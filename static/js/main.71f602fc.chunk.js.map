{"version":3,"sources":["firebase.js","providers/UserContext.js","svg/loc_0.svg","svg/loc_1.svg","svg/loc_2.svg","svg/loc_3.svg","svg/loc_4.svg","svg/loc_5.svg","svg/loc_6.svg","Map.js","SignUp.js","svg/home.svg","Login.js","svg/fractal.svg","svg/logout_icon.svg","svg/notificacion.svg","svg/notificacion2.svg","svg/notificacion_pressed.svg","providers/InitiativeContext.js","providers/SettingsContext.js","svg/my_anuncio.svg","svg/follow_anuncio.svg","Notification.js","Barranav.js","Initiatives.js","InitiativeModalCreate.js","Filtros.js","Inicio.js","Initiative/Discussion.js","Initiative/Summary.js","Initiative/Change.js","Initiative/Comment.js","DiscussionModalCreate.js","Initiative/Iniciative.js","Users.js","Main.js","App.js","index.js"],"names":["app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","collectionF","collection","onSnapshotF","onSnapshot","addDocF","addDoc","serverTimestampF","serverTimestamp","docF","deleteDoc","doc","getStorageF","getStorage","sRef","ref","uploadBytesResumableF","uploadBytesResumable","getDownloadURLF","getDownloadURL","createUserWithEmailAndPasswordF","createUserWithEmailAndPassword","signInWithEmailAndPasswordF","signInWithEmailAndPassword","onAuthStateChangedF","onAuthStateChanged","signOutF","signOut","auth","getAuth","updateProfileF","updateProfile","setDocF","setDoc","getDocF","getDoc","queryF","query","whereF","where","UserContext","createContext","UserContextProvider","props","useState","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","registerName","setRegisterName","loginEmail","setLoginEmail","loginPassword","setLoginPassword","errorMessage","setErrorMessage","user","setUser","userInfo","setUserInfo","currentUser","getUserInfo","uid","localStorage","getItem","setItem","register","info","intereses","a","console","log","then","userRec","lugar","id_lugar","id","tipo_lugar","tipo","localidad_lugar","localidad","nombre","catch","error","displayName","message","login","logout","docRef","docSnap","exists","data","Provider","value","children","Map","className","src","s","cero","uno","dos","tres","cuatro","cinco","seis","svgSwitch","alt","SignUp","setPopUpSignUp","useContext","checks","useRef","b","barrios","setBarrios","barrio","setBarrio","topics","setTopics","useHistory","t","keywords","isToggled","setIsToggled","onClick","e","stopPropagation","placeholder","onChange","event","target","type","split","length","checked","arrayBarrios","filter","list","barrioX","handleLocation","map","index","k","name","hidden","includes","Login","history","popUpSignUp","useEffect","email","push","home","InitiativeContext","InitiativeContextProvider","initiatives","setInitiatives","initiative","setInitiative","initiativesKeywords","setinitiativesKeywords","initiativesLocalidad","setInitiativesLocalidad","initiativesBarrio","setInitiativesBarrio","comment","setComment","progress","setProgress","myInitiativeUpdates","setMyInitiativeUpdates","myFollowedInitiatives","setMyFollowedInitiatives","changes","setChanges","comments","setComments","setPickedLugar","update","setUpdate","unsubscribeInititatives","unsubscribeInititative","handleQuery","operator","feed","q","d","docs","handleNewDoc","payload","handleUpdates","initiative_id","action","handleTypeUpdate","followers","creator","initiativeName","creatorId","userId","createdAt","Date","handleUpdateContent","content","by","by_id","setLikes","oldArray","newArray","oi","merge","setReplies","commentId","initiativeId","replies","handleUserFeed","keyword","handleUserUpdates","uploadImage","imageToUpload","storage","storageRef","uploadTask","contentType","Promise","resolve","reject","on","snap","Math","round","bytesTransferred","totalBytes","snapshot","downloadURL","unSubscribeFromFeed","handleGetDoc","unSubscribeFromDoc","SettingsContext","SettingsContextProvider","modalCreate","setModalCreate","barUpdates","setBarUpdates","toggleModalCreate","toggleBarUpdates","condition","Notification","updates","my_anuncio","follow_anuncio","to","toDate","toLocaleString","Barranav","setUpdates","u","sort","fractal","activeClassName","exact","notificacion_pressed","notification2","notification","logout_icon","Card","options","weekday","month","day","optionsTime","hour12","like","array","result","i","preventDefault","toLocaleDateString","toLocaleTimeString","join","img","im","description","IniciativeModalCreate","file","setFile","sent","setSent","formEl","handleNew","handleSubmit","referencia","setTimeout","handleImages","imageUrl","files","oldFile","kArray","newSubmitted","current","elements","hasOwnProperty","Object","keys","reduce","acc","input","onSubmit","htmlFor","cols","rows","accept","max","style","background","f","Filtros","localeCompare","selected","setSelected","texto","valor","handleBarrios","refplaceholder","parseInt","handleLocalidades","disabled","handleTemas","Inicio","keywordsUser","setKeywordsUser","slice","Discussion","reset","Summary","Change","Comment","useParams","currentdate","title","r","DiscussionModalCreate","Iniciative","iniciativeId","location","setLocation","strict","path","Users","userRendered","setUserRendered","Main","InitiativeModalCreate","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71f602fc.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\"\r\nimport { getFirestore, collection, onSnapshot, addDoc, serverTimestamp, deleteDoc, doc, setDoc, getDoc, query, where } from \"@firebase/firestore\";\r\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"@firebase/storage\";\r\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile } from \"firebase/auth\";\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n apiKey: process.env.REACT_APP_API_KEY,\r\n authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n projectId: process.env.REACT_APP_projectId,\r\n storageBucket: process.env.REACT_APP_storageBucket,\r\n messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n appId: process.env.REACT_APP_appId,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const db = getFirestore(app);\r\n\r\nexport const collectionF = collection;\r\n\r\nexport const onSnapshotF = onSnapshot;\r\n\r\nexport const addDocF = addDoc;\r\n\r\nexport const serverTimestampF = serverTimestamp;\r\n\r\nexport const deleteDocF = deleteDoc;\r\n\r\nexport const docF = doc;\r\n\r\nexport const getStorageF = getStorage;\r\n\r\nexport const sRef = ref;\r\n\r\nexport const uploadBytesResumableF = uploadBytesResumable;\r\n\r\nexport const getDownloadURLF = getDownloadURL;\r\n\r\nexport const createUserWithEmailAndPasswordF = createUserWithEmailAndPassword;\r\n\r\nexport const signInWithEmailAndPasswordF = signInWithEmailAndPassword;\r\n\r\nexport const onAuthStateChangedF = onAuthStateChanged;\r\n\r\nexport const signOutF = signOut;\r\n\r\nexport const auth = getAuth(app);\r\n\r\nexport const updateProfileF = updateProfile;\r\n\r\nexport const setDocF = setDoc;\r\n\r\nexport const getDocF = getDoc;\r\n\r\nexport const queryF = query;\r\n\r\nexport const whereF = where;\r\n\r\n\r\n\r\n\r\n","import React, { createContext, useState } from \"react\";\r\nimport { auth, createUserWithEmailAndPasswordF, signInWithEmailAndPasswordF, onAuthStateChangedF, signOutF, updateProfileF, collectionF, setDocF, db, docF, getDocF } from \"../firebase\";\r\n\r\n\r\nexport const UserContext = createContext();\r\n\r\nfunction UserContextProvider(props) {\r\n\r\n const [registerEmail, setRegisterEmail] = useState(\"\");\r\n const [registerPassword, setRegisterPassword] = useState(\"\");\r\n const [registerName, setRegisterName] = useState(\"\");\r\n const [loginEmail, setLoginEmail] = useState(\"\");\r\n const [loginPassword, setLoginPassword] = useState(\"\");\r\n const [errorMessage, setErrorMessage] = useState()\r\n const [updates, setUpdates] = useState()\r\n const [user, setUser] = useState();\r\n const [userInfo, setUserInfo] = useState();\r\n\r\n onAuthStateChangedF(auth, (currentUser) => {\r\n  setUser(currentUser);\r\n  if (currentUser && !userInfo) {\r\n   getUserInfo(currentUser.uid);\r\n  }\r\n  if (currentUser) {\r\n   if (localStorage.getItem('user') === \"null\" || !localStorage.getItem('user')) {\r\n    localStorage.setItem('user', currentUser.uid);\r\n   }\r\n\r\n  }\r\n\r\n });\r\n\r\n const register = async (info, intereses) => {\r\n\r\n  console.log(\"Info inside User Context\", info)\r\n\r\n  try {\r\n   await createUserWithEmailAndPasswordF(auth, registerEmail, registerPassword).then(async (userRec) => {\r\n    const user = userRec.user;\r\n    await setDocF(docF(db, \"users\", user.uid), {\r\n     lugar: info.lugar,\r\n     id_lugar: info.id,\r\n     tipo_lugar: info.tipo,\r\n     localidad_lugar: info.localidad,\r\n     intereses: intereses,\r\n     nombre: registerName\r\n    }).catch((error) => { console.log(error); });\r\n   }).catch((error) => { console.log(error); });\r\n   await updateProfileF(auth.currentUser, {\r\n    displayName: registerName\r\n   });\r\n\r\n  } catch (error) {\r\n   setErrorMessage(error.message);\r\n  }\r\n }\r\n\r\n const login = async () => {\r\n  try {\r\n   await signInWithEmailAndPasswordF(\r\n    auth,\r\n    loginEmail,\r\n    loginPassword\r\n   );\r\n  } catch (error) {\r\n   setErrorMessage(error.message);\r\n  }\r\n };\r\n\r\n const logout = async () => {\r\n  localStorage.setItem('user', null);\r\n  setErrorMessage();\r\n  await signOutF(auth);\r\n };\r\n\r\n const getUserInfo = async (id) => {\r\n  const docRef = docF(db, \"users\", id);\r\n  var docSnap = await getDocF(docRef);\r\n  if (docSnap.exists()) {\r\n   if (user) {\r\n    if (id == user.uid) {\r\n     setUserInfo(docSnap.data());\r\n    }\r\n   }\r\n   docSnap = docSnap.data()\r\n  } else {\r\n   console.log(\"No such document!\");\r\n  }\r\n  return docSnap\r\n }\r\n\r\n\r\n\r\n return (\r\n  <UserContext.Provider value={{ userInfo, errorMessage, user, auth, registerPassword, getUserInfo, setUser, logout, login, register, setRegisterEmail, setRegisterPassword, setLoginEmail, setLoginPassword, setRegisterName }}>\r\n   {props.children}\r\n  </UserContext.Provider>\r\n )\r\n}\r\n\r\nexport default UserContextProvider\r\n","export default __webpack_public_path__ + \"static/media/loc_0.2d99f3d3.svg\";","export default __webpack_public_path__ + \"static/media/loc_1.20412231.svg\";","export default __webpack_public_path__ + \"static/media/loc_2.14bdde58.svg\";","export default __webpack_public_path__ + \"static/media/loc_3.ddbd095f.svg\";","export default __webpack_public_path__ + \"static/media/loc_4.0322b9f8.svg\";","export default __webpack_public_path__ + \"static/media/loc_5.eef2d849.svg\";","export default __webpack_public_path__ + \"static/media/loc_6.b98329c3.svg\";","import React, { useState } from 'react'\r\nimport cero from \"./svg/loc_0.svg\";\r\nimport uno from \"./svg/loc_1.svg\";\r\nimport dos from \"./svg/loc_2.svg\";\r\nimport tres from \"./svg/loc_3.svg\";\r\nimport cuatro from \"./svg/loc_4.svg\";\r\nimport cinco from \"./svg/loc_5.svg\";\r\nimport seis from \"./svg/loc_6.svg\";\r\nfunction Map({ localidad }) {\r\n\r\n const svgSwitch = () => {\r\n\r\n  var s = {};\r\n  switch (localidad) {\r\n   case 0:\r\n    s = cero;\r\n    break;\r\n   case 1:\r\n    s = uno;\r\n    break;\r\n   case 2:\r\n    s = dos;\r\n    break;\r\n   case 3:\r\n    s = tres;\r\n    break;\r\n   case 4:\r\n    s = cuatro;\r\n    break;\r\n   case 5:\r\n    s = cinco;\r\n    break;\r\n   case 6:\r\n    s = seis;\r\n    break;\r\n  }\r\n  return s;\r\n }\r\n return (\r\n  <div className=\"mapa\">\r\n   <img src={svgSwitch(localidad)} alt=\"\" />\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Map\r\n","import React, { useContext, useEffect, useState, useRef } from 'react';\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport { b } from \"./barrios.json\"\r\nimport { t } from \"./temas.json\";\r\n\r\nfunction SignUp({ setPopUpSignUp }) {\r\n\r\n  const { user, register, setRegisterEmail, setRegisterPassword, registerPassword, setRegisterName } = useContext(UserContext);\r\n\r\n  const checks = useRef();\r\n\r\n  const [barrios, setBarrios] = useState(b);\r\n\r\n  const [barrio, setBarrio] = useState();\r\n\r\n  const [topics, setTopics] = useState([]);\r\n\r\n  const history = useHistory();\r\n\r\n  const [keywords, setKeywords] = useState(t);\r\n\r\n\r\n  const handleLocation = (event) => {\r\n    const barrioX = barrios.filter(b => { return b.lugar === event });\r\n    setBarrio(barrioX[0]);\r\n    console.log(\"Información\", barrioX[0]);\r\n\r\n  }\r\n\r\n  const handleTopics = (e) => {\r\n\r\n    topics.includes(e.target.name) ? setTopics(topics.filter(t => t !== e.target.name)) : setTopics(t => [...topics, e.target.name])\r\n\r\n  }\r\n\r\n  const [isToggled, setIsToggled] = useState(false);\r\n\r\n  const onToggle = () => {\r\n\r\n    setIsToggled(!isToggled);\r\n\r\n    var arrayBarrios = isToggled ? b.filter(b => { return b.tipo === 1 }) : b.filter(b => { return b.tipo === 0 })\r\n\r\n    setBarrios(arrayBarrios);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\" onClick={() => setPopUpSignUp(false)}>\r\n      <div className=\"modal-body\" onClick={(e) => e.stopPropagation()}>\r\n        <h3>Crear Nueva Cuenta</h3>\r\n        <div>\r\n          <input\r\n            placeholder=\"Nombre Completo\"\r\n            onChange={(event) => {\r\n              setRegisterName(event.target.value);\r\n            }} />\r\n        </div>\r\n        <input\r\n          placeholder=\"Correo Electrónico...\"\r\n          onChange={(event) => {\r\n            setRegisterEmail(event.target.value);\r\n          }}\r\n        />\r\n\r\n        <input\r\n          placeholder=\"Contraseña...\"\r\n          type=\"password\"\r\n          onChange={(event) => {\r\n            setRegisterPassword(event.target.value);\r\n          }}\r\n        />\r\n        <p>{registerPassword.split('').length < 6 && registerPassword.split('').length > 1 ? \"La contraseña debe tener más de 6 caracteres\" : \"\"}</p>\r\n\r\n        <div className=\"container-toggle-switch\">\r\n          <p>Vivo en un:       <b>barrio</b></p>\r\n          <label className=\"toggle-switch\">\r\n            <input type=\"checkbox\" checked={isToggled} onChange={onToggle} />\r\n            <span className=\"switch\" />\r\n          </label>\r\n          <p><b>corregimiento</b></p>\r\n        </div>\r\n\r\n        <input ref={checks} list=\"barrios\" placeholder={!isToggled ? \"Barrio\" : \"Corregimiento\"}\r\n          onChange={(event) => {\r\n            handleLocation(event.target.value)\r\n          }} />\r\n\r\n        <datalist id=\"barrios\">\r\n          {barrios.map((e, index) => {\r\n            return <option key={index} value={e.lugar} />\r\n          })}\r\n        </datalist>\r\n        <br />\r\n        {barrio ? <div>\r\n          <h5>{`En Cali, Distrito Especial, tu ${barrio.tipo === 1 ? \"barrio\" : \"corregimiento\"} estará en la Localidad ${barrio.localidad}`}</h5>  </div >\r\n          : \"\"}\r\n\r\n        <Map localidad={barrio ? barrio.localidad : 0} />\r\n        <br />\r\n        <h4>Intereses</h4>\r\n        <div className=\"keywords\">\r\n          {keywords.map((k, index) => {\r\n            return <label id=\"ck-button\" key={index}>\r\n              <input type=\"checkbox\" id=\"btnControl\" name={k} hidden onChange={(event) => handleTopics(event)} />\r\n              <span>{k}</span>\r\n            </label>\r\n          })}\r\n        </div>\r\n\r\n        <button onClick={() => { register(barrio, topics); setPopUpSignUp(false) }}> Crear Usuario</button>\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n","export default __webpack_public_path__ + \"static/media/home.1e42912d.svg\";","import React, { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport SignUp from \"./SignUp\";\r\nimport home from \"./svg/home.svg\";\r\n\r\nfunction Login() {\r\n\r\n const { user, login, setLoginEmail, setLoginPassword, errorMessage } = useContext(UserContext);\r\n\r\n const history = useHistory();\r\n\r\n const [popUpSignUp, setPopUpSignUp] = useState(false)\r\n\r\n useEffect(() => {\r\n  if (user?.email) { history.push(\"/\"); setLoginEmail(); setLoginPassword(); } else {\r\n   localStorage.setItem('user', null);\r\n  }\r\n  console.log(user);\r\n }, [user])\r\n\r\n\r\n return (\r\n\r\n  <div>\r\n\r\n   <div className=\"login\">\r\n\r\n    <div className=\"login-info\">\r\n     <div className=\"login-info-text\">\r\n      <h1>Transformemos la ciudad desde el barrio.</h1>\r\n      <h4>Con Fractal podrás formular y discutir los proyectos que transformarán a Cali. ¡Únete!</h4>\r\n     </div>\r\n\r\n    </div>\r\n\r\n    <div className=\"login-input\">\r\n\r\n     <input\r\n      placeholder=\"Correo Electrónico\"\r\n      onChange={(event) => {\r\n       setLoginEmail(event.target.value);\r\n      }}\r\n     />\r\n\r\n     <input\r\n      placeholder=\"Contraseña\"\r\n      type=\"password\"\r\n      onChange={(event) => {\r\n       setLoginPassword(event.target.value);\r\n      }}\r\n     />\r\n\r\n     <h5>{errorMessage ? \"Usuario o Cuenta incorrecta\" : \"\"}</h5>\r\n     <div className=\"login-buttons\">\r\n      <div onClick={() => login()}><h4>Ingresar</h4></div>\r\n      <div onClick={() => { setPopUpSignUp(true) }}><h4>Crear Cuenta</h4></div>\r\n     </div>\r\n    </div>\r\n    <img src={home} alt=\"\" />\r\n   </div>\r\n   {popUpSignUp ? <SignUp setPopUpSignUp={setPopUpSignUp} /> : \"\"}\r\n  </div>\r\n\r\n\r\n )\r\n}\r\n\r\nexport default Login\r\n","export default __webpack_public_path__ + \"static/media/fractal.83b59d8f.svg\";","export default __webpack_public_path__ + \"static/media/logout_icon.7d8020c0.svg\";","export default __webpack_public_path__ + \"static/media/notificacion.6156ebcb.svg\";","export default __webpack_public_path__ + \"static/media/notificacion2.643be16b.svg\";","export default __webpack_public_path__ + \"static/media/notificacion_pressed.9e938c7f.svg\";","import React, { createContext, useState } from \"react\";\r\nimport { db, collectionF, onSnapshotF, addDocF, docF, setDocF, getStorageF, sRef, uploadBytesResumableF, getDownloadURLF, queryF, whereF, getDocF } from \"../firebase\";\r\n\r\nexport const InitiativeContext = createContext();\r\n\r\nconst InitiativeContextProvider = (props) => {\r\n  // Reference to the collection this context works for. \r\n\r\n  const [initiatives, setInitiatives] = useState([]);\r\n  const [initiative, setInitiative] = useState(null);\r\n\r\n  const [initiativesKeywords, setinitiativesKeywords] = useState()\r\n  const [initiativesLocalidad, setInitiativesLocalidad] = useState()\r\n  const [initiativesBarrio, setInitiativesBarrio] = useState()\r\n  const [comment, setComment] = useState(null);\r\n  const [progress, setProgress] = useState(0);\r\n  const [myInitiativeUpdates, setMyInitiativeUpdates] = useState()\r\n  const [myFollowedInitiatives, setMyFollowedInitiatives] = useState()\r\n  const [changes, setChanges] = useState(null)\r\n  const [comments, setComments] = useState()\r\n  const [pickedLugar, setPickedLugar] = useState(\"\");\r\n  const [update, setUpdate] = useState(false)\r\n  var unsubscribeInititatives = () => { };\r\n  var unsubscribeInititative = () => { };\r\n\r\n\r\n  const handleQuery = (collection, type, operator, value, feed) => {\r\n    feed = feed ? feed : false;\r\n    var q = \"\"\r\n\r\n    if (collection == \"updates\") {\r\n\r\n      switch (operator) {\r\n        case \"==\":\r\n          q = queryF(collectionF(db, \"updates\"), whereF(type, operator, value));\r\n          break;\r\n        case \"array-contains\":\r\n          q = queryF(collectionF(db, \"updates\"), whereF(type, operator, value));\r\n          break;\r\n      }\r\n\r\n    } else {\r\n      q = queryF(collectionF(db, collection), whereF(type, operator, value));\r\n    }\r\n\r\n    unsubscribeInititatives = onSnapshotF(q, (data) => {\r\n      switch (collection) {\r\n        case \"initiatives\":\r\n          var d = data.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\r\n          if (feed) {\r\n            if (operator == \"==\") {\r\n              setInitiativesLocalidad(d);\r\n              setInitiativesBarrio(d);\r\n            } else {\r\n              setinitiativesKeywords(d);\r\n            }\r\n          } else {\r\n            setInitiatives(d);\r\n          }\r\n\r\n          break;\r\n        case \"changes\":\r\n          setChanges(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n          break;\r\n        case \"comments\":\r\n          setComments(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n          break;\r\n        case \"updates\":\r\n          if (operator == \"==\") {\r\n            setMyInitiativeUpdates(data.docs.map((doc) => ({ ...doc.data(), id: doc.id, type: \"Mine\" })));\r\n          } else {\r\n            setMyFollowedInitiatives(data.docs.map((doc) => ({ ...doc.data(), id: doc.id, type: \"Follow\" })));\r\n          }\r\n          setUpdate(true)\r\n          break;\r\n      }\r\n    }, (error) => {\r\n      console.log(\"handle feed OnSnapshot error:\", error)\r\n    })\r\n  }\r\n\r\n  const handleUserUpdates = (uid, name) => {\r\n    handleQuery(\"updates\", \"followers\", \"array-contains\", { by: name, uid: uid });\r\n    handleQuery(\"updates\", \"creatorId\", \"==\", uid);\r\n  }\r\n\r\n  const handleUserFeed = (keyword, localidad, barrio) => {\r\n    console.log(keyword)\r\n\r\n    handleQuery(\"initiatives\", \"keywords\", \"array-contains\", keyword, true);\r\n\r\n    handleQuery(\"initiatives\", \"localidad_lugar\", \"==\", localidad, true);\r\n\r\n    handleQuery(\"initiatives\", \"lugar\", \"==\", barrio, true);\r\n\r\n\r\n  }\r\n\r\n  const unSubscribeFromFeed = () => {\r\n    setMyInitiativeUpdates();\r\n    setMyFollowedInitiatives(); setInitiatives(); unsubscribeInititatives();\r\n  }\r\n\r\n  const handleGetDoc = (ref, collection) => {\r\n    const docRef = docF(db, collection, ref);\r\n    unsubscribeInititative = onSnapshotF(docRef, (doc) => {\r\n      switch (collection) {\r\n        case \"initiatives\":\r\n          setInitiative(doc.data())\r\n          break;\r\n        case \"comments\":\r\n          setComment(doc.data())\r\n          break;\r\n      }\r\n    }, (error) => {\r\n      console.log(\"handle get Doc OnSnapshot error:\", error)\r\n    });\r\n  }\r\n\r\n  const unSubscribeFromDoc = () => {\r\n    setInitiative();\r\n    setComments();\r\n    setChanges();\r\n    unsubscribeInititative();\r\n  }\r\n\r\n  /*Writes initiatives, changes and top comments to database */\r\n  const handleNewDoc = async (collection, payload) => {\r\n    const docRef = await addDocF(collectionF(db, collection), payload);\r\n    if (collection != \"updates\" && collection != \"initiatives\") {\r\n      handleUpdates(payload.initiative_id, collection, payload);\r\n    }\r\n    return docRef.id;\r\n  }\r\n\r\n  const handleUpdates = async (ref, action, payload) => {\r\n    const docRef = docF(db, \"initiatives\", ref);\r\n    const docSnap = await getDocF(docRef);\r\n    if (docSnap.exists()) {\r\n      const update = {\r\n        action: handleTypeUpdate(action),\r\n        followers: docSnap.data().followers,\r\n        creator: docSnap.data().creator,\r\n        initiativeName: docSnap.data().name,\r\n        initiative_id: ref,\r\n        creatorId: docSnap.data().userId,\r\n        createdAt: new Date(),\r\n        ...handleUpdateContent(action, payload)\r\n      }\r\n      console.log(\"update\", update)\r\n      handleNewDoc(\"updates\", update)\r\n    } else {\r\n      console.log(\"No such document!\");\r\n    }\r\n  }\r\n\r\n  const handleTypeUpdate = (action) => {\r\n    var a = \"\"\r\n    switch (action) {\r\n      case \"comments\":\r\n        a = \"comentario\"\r\n        break;\r\n      case \"initiative\":\r\n        a = \"iniciativa\"\r\n        break;\r\n\r\n      case \"changes\":\r\n        a = \"anuncio\"\r\n        break;\r\n\r\n      case \"like\":\r\n        a = \"seguidor\"\r\n        break;\r\n\r\n      case \"reply\":\r\n        a = \"réplica\"\r\n        break;\r\n    }\r\n\r\n    return a;\r\n  }\r\n\r\n  const handleUpdateContent = (action, content) => {\r\n    var update = \"\"\r\n    switch (action) {\r\n      case \"comments\":\r\n      case \"initiatives\":\r\n      case \"changes\":\r\n        update = { content: content.content, by: content.creator, by_id: content.userId }\r\n        break;\r\n      case \"reply\":\r\n        update = { content: content.content, by: content.by, by_id: content.by_id }\r\n        break;\r\n      case \"like\":\r\n        update = { content: action, by: content.by, by_id: content.uid }\r\n        break;\r\n    }\r\n    return update;\r\n  }\r\n\r\n  /* Writes likes and replies to db  */\r\n  const setLikes = async (id, uid, oldArray) => {\r\n    var newArray = [];\r\n    if (oldArray.filter((e) => { return e.uid === uid.uid; }).length > 0) {\r\n      newArray = oldArray.filter(oi => { return oi.uid !== uid.uid })\r\n    } else {\r\n      newArray = [...oldArray, uid]\r\n    }\r\n\r\n    await setDocF(docF(db, \"initiatives\", id), { followers: newArray }, { merge: true });\r\n\r\n    if (!oldArray.filter((e) => { return e.uid === uid.uid; }).length > 0) {\r\n      handleUpdates(id, \"like\", uid);\r\n    }\r\n  }\r\n\r\n  const setReplies = async (commentId, initiativeId, content, oldArray) => {\r\n    var newArray = [];\r\n    newArray = [...oldArray, content]\r\n    await setDocF(docF(db, \"comments\", commentId), { replies: newArray }, { merge: true });\r\n    handleUpdates(initiativeId, \"reply\", content);\r\n  }\r\n\r\n  const uploadImage = (imageToUpload, name) => {\r\n\r\n    const storage = getStorageF();\r\n\r\n    const storageRef = sRef(storage, \"Images/\" + name);\r\n\r\n    const uploadTask = uploadBytesResumableF(storageRef, imageToUpload, { contentType: \"png\" });\r\n\r\n    return new Promise((resolve, reject) => {\r\n      uploadTask.on('state_changed', (snap) => {\r\n        setProgress(Math.round((snap.bytesTransferred / snap.totalBytes) * 100));\r\n      }, (error) => { reject(error); },\r\n        () => getDownloadURLF(uploadTask.snapshot.ref).then((downloadURL) => { setProgress(0); resolve(downloadURL); })\r\n      )\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <InitiativeContext.Provider value={{ update, initiativesKeywords, handleUserFeed, setUpdate, setLikes, handleUserUpdates, initiativesLocalidad, initiativesBarrio, myFollowedInitiatives, myInitiativeUpdates, initiatives, changes, initiative, comments, comment, progress, handleUpdates, setPickedLugar, setReplies, uploadImage, handleQuery, unSubscribeFromFeed, handleNewDoc, handleGetDoc, unSubscribeFromDoc }}>\r\n      {props.children}\r\n    </InitiativeContext.Provider>\r\n  )\r\n\r\n}\r\n\r\nexport default InitiativeContextProvider\r\n","import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const SettingsContext = createContext();\r\n\r\nfunction SettingsContextProvider(props) {\r\n\r\n const [modalCreate, setModalCreate] = useState(false)\r\n\r\n const toggleModalCreate = () => {\r\n  setModalCreate(!modalCreate);\r\n }\r\n const [barUpdates, setBarUpdates] = useState(false)\r\n\r\n const toggleBarUpdates = (condition) => {\r\n  if (condition == \"cerrar\") {\r\n   setBarUpdates(false);\r\n  } else {\r\n   setBarUpdates(!barUpdates);\r\n  }\r\n\r\n }\r\n\r\n return (\r\n  <SettingsContext.Provider value={{ modalCreate, toggleModalCreate, barUpdates, toggleBarUpdates }}>\r\n   {props.children}\r\n  </SettingsContext.Provider>\r\n )\r\n}\r\n\r\nexport default SettingsContextProvider\r\n","export default __webpack_public_path__ + \"static/media/my_anuncio.d03ad2a0.svg\";","export default __webpack_public_path__ + \"static/media/follow_anuncio.e0c27896.svg\";","import React from 'react'\r\nimport my_anuncio from \"./svg/my_anuncio.svg\";\r\nimport follow_anuncio from \"./svg/follow_anuncio.svg\";\r\nimport { Link } from 'react-router-dom'\r\nfunction Notification({ updates }) {\r\n  return (\r\n    updates.length > 0 ? <div> {updates.map((a, index) => {\r\n      return <div className=\"notification\" key={index}>\r\n        <img src={a.type == \"Mine\" ? my_anuncio : follow_anuncio} alt=\"\" />\r\n        <div>\r\n          <div className=\"notification-content\">\r\n\r\n\r\n            <h5>\r\n\r\n              <Link to={`/iniciativas/${a.initiative_id}/resumen`}>\r\n                {`Nuevo ${a.action}`}\r\n              </Link>\r\n\r\n\r\n              {`en ${a.type == \"Mine\" ? \"tu proyecto\" : \"el proyecto\"}`}\r\n\r\n              <Link to={`/iniciativas/${a.initiative_id}/resumen`}>{a.initiativeName}</Link>\r\n\r\n              {`(${a.createdAt.toDate().toLocaleString()})`}</h5>\r\n          </div>\r\n\r\n          <div className=\"notification-content\">\r\n            <Link to={`/usuario/${a.by_id}`}>{a.by}</Link>\r\n            <p>{`  ${a.content == \"seguidor\" ? \"\" :  a.content}`}</p>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    })}</div>\r\n\r\n\r\n      : \"Todavía no hay notificaciones. ¡Busca y Sigue un Proyecto!\")\r\n}\r\n\r\nexport default Notification\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport fractal from './svg/fractal.svg';\r\nimport logout_icon from './svg/logout_icon.svg';\r\nimport notification from './svg/notificacion.svg'\r\nimport notification2 from './svg/notificacion2.svg'\r\n\r\nimport notificacion_pressed from './svg/notificacion_pressed.svg'\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { SettingsContext } from \"./providers/SettingsContext\";\r\nimport Notification from \"./Notification\";\r\n\r\nfunction Barranav() {\r\n\r\n    const { user, logout } = useContext(UserContext);\r\n    const { barUpdates, toggleBarUpdates } = useContext(SettingsContext);\r\n    const history = useHistory();\r\n    const [updates, setUpdates] = useState([])\r\n\r\n    const { update, setUpdate, myInitiativeUpdates, myFollowedInitiatives, handleUserUpdates } = useContext(InitiativeContext)\r\n\r\n    useEffect(() => {\r\n\r\n        if (user && !myInitiativeUpdates || !myFollowedInitiatives) {\r\n            handleUserUpdates(user?.uid, user?.displayName);\r\n            setUpdate(false);\r\n        } else {\r\n            var a = myInitiativeUpdates ? myInitiativeUpdates : [];\r\n            var b = myFollowedInitiatives ? myFollowedInitiatives : [];\r\n            var newArray = [...a, ...b]\r\n            newArray = newArray.filter(u => u.by_id != user.uid).sort((a, b) => { return b.createdAt - a.createdAt })\r\n            if (newArray.length == updates.length) {\r\n                setUpdate(false)\r\n            }\r\n            setUpdates(newArray)\r\n        }\r\n\r\n\r\n\r\n    }, [user, update])\r\n\r\n\r\n    return (\r\n        <div >\r\n            <nav className=\"navbar\">\r\n                <NavLink to=\"/\"><img className=\"logo\" src={fractal} alt=\"\" /></NavLink>\r\n                <ul>\r\n                    <li onClick={() => { toggleBarUpdates(\"cerrar\"); }}><NavLink activeClassName='active' exact={true} to=\"/\">Inicio</NavLink></li>\r\n                    <li onClick={() => { toggleBarUpdates(\"cerrar\"); }}><NavLink to=\"/iniciativas\" activeClassName='active'>Iniciativas</NavLink></li>\r\n                    <span>  </span>\r\n                    |\r\n                    <li onClick={() => { toggleBarUpdates(\"cerrar\"); }}><NavLink activeClassName='active' exact to={`/usuario/${user.uid}`}>{user?.displayName}</NavLink></li>\r\n                    <li><img onClick={() => { toggleBarUpdates(); setUpdate(false) }} src={barUpdates ? notificacion_pressed : update ? notification2 : notification} alt=\"\" /></li>\r\n                    <li><button onClick={logout}><img src={logout_icon} alt=\"\" /></button></li>\r\n                </ul>\r\n\r\n            </nav> {\r\n                barUpdates ? <div className={`panel-wrap ${barUpdates ? \"checked\" : \"\"}`} onClick={() => { toggleBarUpdates(\"cerrar\"); }}>\r\n                    <div className=\"panel\">\r\n\r\n                        <div onClick={toggleBarUpdates}></div>\r\n                        {<Notification updates={updates} />}\r\n\r\n                    </div></div> : \"\"\r\n            }\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\nexport default Barranav;","import React, { useContext, useEffect } from 'react';\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Card() {\r\n\r\n    const { initiatives, setLikes } = useContext(InitiativeContext)\r\n    const { user } = useContext(UserContext)\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('user') === \"null\" || !localStorage.getItem('user')) { history.push(\"/login\") }\r\n\r\n    }, [localStorage.getItem('user')])\r\n\r\n    var options = { weekday: \"long\", month: \"long\", day: \"numeric\" };\r\n\r\n    var optionsTime = { hour12: \"false\" };\r\n\r\n    const like = (array) => {\r\n        let result = array.map(a => a.uid);\r\n        return array.length > 0 ? result.includes(user.uid) : false;\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"initiative\">\r\n            <div className=\"initiative-sub-one\">\r\n                {initiatives\r\n                    ?\r\n                    <div className=\"initiative-sub-two\">{initiatives.length > 0 ? <div className=\"initiative-container\">{initiatives.sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n                        return < Link to={`iniciativas/${i.id}/resumen`\r\n                        } key={i.id}>\r\n                            <div className=\"container\">\r\n                                <div className=\"container-top\">\r\n                                    \r\n                                    <div className=\"title-button\">\r\n                                        <h4>{i.name}</h4>\r\n                                        {user ? user.uid !== i.userId ? <button onClick={(e) => { e.preventDefault(); setLikes(i.id, { by: user?.displayName, uid: user.uid }, i.followers) }} className={like(i.followers) ? \"like\" : \"unlike\"}>\r\n                                            {like(i.followers) ? \"Siguiendo\" : \"Seguir\"}\r\n                                        </button> : \"\" : \"\"}\r\n                                    </div>\r\n\r\n                                    <div className=\"container-author-time\">\r\n\r\n                                        <h5>{\"Por \" + i.creator} | </h5>\r\n                                        <h5>{i.createdAt ? i.createdAt.toDate().toLocaleDateString(\"es-ES\", options) + \" \" + i.createdAt.toDate().toLocaleTimeString(\"es-ES\", optionsTime) : \"\"}</h5>\r\n\r\n                                    </div>\r\n                                    <div className=\"container-location\">\r\n                                        <h5>{`Localidad ${i.localidad_lugar} | ${i.lugar} | ${i.keywords.join(\",\")}`}</h5>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"container-bot\">\r\n                                    <div className=\"container-img\">\r\n                                        {i.img.map((im, index) => { return <img key={index} src={im} alt=\"\" /> })}\r\n                                    </div>\r\n                                    <div className=\"container-description\"><p>{i.description}</p></div>\r\n\r\n                                    <hr />\r\n\r\n                                    <Link to={`iniciativas/${i.id}/resumen`}> Ver Más...</Link>\r\n                                </div>\r\n                            </div>\r\n                        </Link >\r\n                    })}</div> : \"\"}</div>\r\n\r\n                    :\r\n                    <h1>Loading...</h1>\r\n                }\r\n            </div>\r\n        </div >\r\n    )\r\n\r\n}\r\n\r\nexport default Card;","import React, { useRef, useState, useContext } from 'react'\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { serverTimestampF } from \"./firebase\";\r\nimport { t } from \"./temas.json\";\r\n\r\nfunction IniciativeModalCreate({ toggleModalCreate }) {\r\n\r\n  const [keywords, setKeywords] = useState(t)\r\n\r\n  const [file, setFile] = useState([]);\r\n  const [sent, setSent] = useState();\r\n\r\n  const { handleNewDoc, uploadImage, progress } = useContext(InitiativeContext)\r\n\r\n  const { user, userInfo } = useContext(UserContext)\r\n\r\n  const formEl = useRef();\r\n\r\n  const handleNew = async (e) => {\r\n    console.log(handleSubmit(e));\r\n    const referencia = await handleNewDoc(\"initiatives\", handleSubmit(e));\r\n    console.log(\"referencia es:\", referencia);\r\n    setSent(true);\r\n    setTimeout(() => {\r\n      toggleModalCreate();\r\n    }, 5000);\r\n  }\r\n\r\n  const handleImages = async (e) => {\r\n    var imageUrl = \"\";\r\n    try {\r\n      imageUrl = await uploadImage(e.target.files[0], e.target.files[0].name);\r\n      console.log(\"Promise Image\", imageUrl)\r\n    } catch (error) { console.log(\"Promise Image\", error) }\r\n    setFile((oldFile) => [...oldFile, imageUrl]);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    var kArray = []\r\n    const formInputs = [...formEl.current.elements].map(e => {\r\n      if (e.hasOwnProperty('checked')) {\r\n        if (e.checked) {\r\n          kArray.push(e.name)\r\n        }\r\n      }\r\n      return !e.hasOwnProperty('checked') ? { [e.name]: e.value } : {}\r\n    }).filter((value) => Object.keys(value).length !== 0).filter((value) => Object.keys(value)[0] !== \"\");\r\n\r\n    const newSubmitted = formInputs.reduce((acc, input) => {\r\n      return {\r\n        ...acc, ...input, keywords: kArray, userId: user.uid, creator: user.displayName, lugar: userInfo.lugar, followers: [],\r\n        id_lugar: userInfo.id_lugar,\r\n        tipo_lugar: userInfo.tipo_lugar,\r\n        localidad_lugar: userInfo.localidad_lugar\r\n      };\r\n    }, 0);\r\n\r\n    return { ...newSubmitted, createdAt: serverTimestampF(), img: file }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\" onClick={toggleModalCreate}>\r\n      <div className=\"modal-body\" onClick={(e) => e.stopPropagation()}>\r\n        \r\n        {!sent ?\r\n          <div className=\"modal-form\">\r\n            <form ref={formEl} onSubmit={(e) => handleNew(e)} id=\"confirmationForm\">\r\n              <div className=\"titleclose\">\r\n              <h4 htmlFor=\"name-input\"> Titulo del Proyecto</h4> <div onClick={toggleModalCreate} className=\"clickable\"><button className=\"close\">x</button> </div>\r\n              </div>\r\n              <input id=\"name-input\" name=\"name\" type=\"text\" placeholder=\"Titulo de tu proyecto\" />\r\n              <h4 htmlFor=\"team-input\">Descripción</h4>\r\n              <textarea name=\"description\" type=\"text\" cols=\"40\" rows=\"5\" />\r\n              <h4>Añadir Imágenes</h4>\r\n              <div className=\"modal-upload-images\" >\r\n                <div className=\"images\">\r\n                  <input type=\"file\" id=\"file\" name=\"img\" accept=\"image/*\" onChange={(e) => handleImages(e)} />\r\n\r\n                  <label htmlFor=\"file\"> <progress id=\"file\" value={progress} max=\"100\" style={progress === 0 ? {} : { background: \"#FF8D97\" }} />{progress === 0 ? <p>+</p> : <p>{progress + \"%\"}</p>}</label>\r\n\r\n                  {file\r\n                    ? file.map((f, index) => {\r\n                      return <div className=\"image-added\" key={index}>\r\n                        <p>Eliminar</p>\r\n                        <img src={f} alt=\"\" />\r\n\r\n                      </div>\r\n                    })\r\n                    : \"\"}\r\n\r\n                </div>\r\n              </div>\r\n              <h4>Palabras Clave</h4>\r\n              <div className=\"keywords\">\r\n                {keywords.map((k, index) => {\r\n                  return <label id=\"ck-button\" key={index}>\r\n                    <input type=\"checkbox\" id=\"btnControl\" name={k} hidden />\r\n                    <span>{k}</span>\r\n                  </label>\r\n                })}\r\n              </div>\r\n\r\n              <button type=\"submit\">Añadir</button>\r\n            </form>\r\n          </div> : \"Iniciativa Enviada\"}\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default IniciativeModalCreate\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport { t } from \"./temas.json\";\r\nimport { b } from \"./barrios.json\"\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\n\r\nfunction Filtros() {\r\n\r\n  const [barrios, setBarrios] = useState(b.sort((a, b) => a.lugar.localeCompare(b.lugar)));\r\n\r\n  const [keywords, setKeywords] = useState(t);\r\n\r\n  const { unSubscribeFromFeed, handleQuery } = useContext(InitiativeContext);\r\n\r\n  const { user, userInfo } = useContext(UserContext);\r\n\r\n  const { initiatives } = useContext(InitiativeContext)\r\n\r\n  const [selected, setSelected] = useState();\r\n\r\n  useEffect(() => {\r\n    if (user && userInfo) {\r\n      setSelected({ tipo: \"Barrio\", texto: \"\", valor: userInfo.lugar });\r\n      handleBarrios(userInfo.lugar);\r\n    }\r\n    return () => { unSubscribeFromFeed(); setSelected() };\r\n  }, [user, userInfo]);\r\n\r\n\r\n  const handleBarrios = (event) => {\r\n    setSelected({ tipo: \"Barrio\", texto: \"en el barrio\", valor: event });\r\n    handleQuery(\"initiatives\", \"lugar\", \"==\", event);\r\n  }\r\n\r\n  const handleLocalidades = (event) => {\r\n    setSelected({ tipo: \"Localidad\", texto: \"en la localidad\", valor: event });\r\n    handleQuery(\"initiatives\", \"localidad_lugar\", \"==\", parseInt(event));\r\n  }\r\n\r\n  const handleTemas = (event) => {\r\n    setSelected({ tipo: \"Temática\", texto: \"sobre\", valor: event });\r\n    handleQuery(\"initiatives\", \"keywords\", \"array-contains\", event);\r\n  }\r\n\r\n\r\n  return (\r\n    userInfo && selected && initiatives ?\r\n      <div className=\"top-initiative-subnavbar\">\r\n        <div className=\"initiative-subnavbar\">\r\n          <div className=\"initiative-subnavbar-breadcrumb\"><h4>{`Iniciativas  ${selected ? `> ${selected.tipo} > ${selected.valor}` : \"\"}`} </h4></div>\r\n\r\n          <div className=\"initiative-subnavbar-filters\">\r\n\r\n\r\n            <select value={selected ? selected.tipo === \"Localidad\" ? selected.valor : \"none\" : \"\"} refplaceholder=\"Localidad\" onChange={(event) => {\r\n              handleLocalidades(event.target.value)\r\n            }}>\r\n              <option value=\"none\" selected disabled hidden>Localidad</option>\r\n              <option value=\"1\" >Localidad 1</option>\r\n              <option value=\"2\" >Localidad 2</option>\r\n              <option value=\"3\" >Localidad 3</option>\r\n              <option value=\"4\" >Localidad 4</option>\r\n              <option value=\"5\" >Localidad 5</option>\r\n              <option value=\"6\" >Localidad 6</option>\r\n            </select>\r\n\r\n\r\n            <select value={selected ? selected.tipo === \"Barrio\" ? selected.valor : \"none\" : \"\"} placeholder=\"Barrio\" onChange={(event) => {\r\n              handleBarrios(event.target.value)\r\n            }} >\r\n              <option value=\"none\" selected disabled hidden>Barrio</option>\r\n              {barrios.map((e, index) => {\r\n                return <option key={index} value={e.lugar} >{e.lugar}</option>\r\n              })} </select>\r\n\r\n\r\n            <select placeholder=\"Tema\" value={selected ? selected.tipo === \"Temática\" ? selected.valor : \"none\" : \"\"} onChange={(event) => {\r\n              handleTemas(event.target.value)\r\n            }} >\r\n              <option value=\"none\" selected disabled hidden>Tema</option>\r\n              {keywords.map((e, index) => {\r\n                return <option key={index} value={e} >{e}</option>\r\n              })} </select>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        {initiatives.length === 0 && selected ? <h2 className=\"notfound\">{`Todavía no hay iniciativas  ${selected.texto} ${selected.valor}`}</h2> : \"\"}</div>\r\n\r\n      : <div className=\"modal loader\"><div id=\"loading\"></div></div>)\r\n}\r\n\r\nexport default Filtros\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { Link } from \"react-router-dom\";\r\nfunction Inicio() {\r\n\r\n  const { user, userInfo } = useContext(UserContext)\r\n  const { unSubscribeFromFeed, handleUserFeed, initiativesLocalidad, initiativesBarrio, initiativesKeywords, setLikes } = useContext(InitiativeContext);\r\n  const [keywordsUser, setKeywordsUser] = useState([])\r\n\r\n\r\n  var options = { weekday: \"long\", month: \"long\", day: \"numeric\" };\r\n\r\n  var optionsTime = { hour12: \"false\" };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (user && userInfo) {\r\n      handleUserFeed(userInfo.intereses[0], userInfo.localidad_lugar, userInfo.lugar)\r\n      console.log(\"interestInitiatives\", initiativesKeywords)\r\n      setKeywordsUser(userInfo.intereses)\r\n    }\r\n    return () => unSubscribeFromFeed();\r\n  }, [user, userInfo])\r\n\r\n\r\n  const like = (array) => {\r\n    let result = array.map(a => a.uid);\r\n    return array.length > 0 ? result.includes(user.uid) : false;\r\n  }\r\n\r\n  return (initiativesKeywords && user && initiativesLocalidad && initiativesBarrio ?\r\n    <div className=\"feed\">\r\n\r\n      {user ?\r\n        <div className=\"greeting\"><h1>{user.displayName ? `Hola, ${user.displayName.split(\" \").length >= 4 ? user.displayName.split(\" \").slice(0, 3).join(\" \") : user.displayName.split(\" \")[0]}` : \"\"}</h1>\r\n          <h2>creemos que te podrían interesar las siguientes iniciativas:</h2></div>\r\n        : <div className=\"modal loader\"><div id=\"loading\"></div></div>}\r\n\r\n      {initiativesKeywords.filter(u => u.userId != user.uid).length > 0 ?\r\n\r\n      <h3>{userInfo ? keywordsUser[0] : \"\"}</h3> : <div> <h3> {userInfo ? userInfo.intereses[0] : \"\"}</h3><p>{`Todavía nadie ha publicado iniciativas en la categoría ${userInfo.intereses[0]}. ¡Te invitamos a traer a tus amigos y generar cambio!`}</p></div>}\r\n      \r\n      {initiativesKeywords\r\n        ?\r\n        <div className=\"initiative-feed\">{initiativesKeywords.length > 0 ? <div className=\"initiative-feed-container\">{initiativesKeywords.filter(u => u.userId != user.uid).sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n          return < Link to={`iniciativas/${i.id}/resumen`\r\n          } key={i.id}>\r\n            <div className=\"container\">\r\n              <div className=\"container-top\">\r\n               \r\n                <div className=\"title-button\">\r\n                  <h4>{i.name}</h4>\r\n                  {user ? user.uid !== i.userId ? <button onClick={(e) => { e.preventDefault(); setLikes(i.id, { by: user?.displayName, uid: user.uid }, i.followers) }} className={like(i.followers) ? \"like\" : \"unlike\"}>\r\n                    {like(i.followers) ? \"Siguiendo\" : \"Seguir\"}\r\n                  </button> : \"\" : \"\"}\r\n                </div>\r\n\r\n                <div className=\"container-author-time\">\r\n                  <h5>{\"Por \" + i.creator} | </h5>\r\n                  <h5>{i.createdAt ? i.createdAt.toDate().toLocaleDateString(\"es-ES\", options) + \" \" + i.createdAt.toDate().toLocaleTimeString(\"es-ES\", optionsTime) : \"\"}</h5>\r\n                </div>\r\n\r\n                <div className=\"container-location\">\r\n                  <h5>{`Localidad ${i.localidad_lugar} | ${i.lugar} | ${i.keywords.join(\",\")}`}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"container-bot\">\r\n                <div className=\"container-img\">\r\n                  {i.img.map((im, index) => { return <img key={index} src={im} alt=\"\" /> })}\r\n                </div>\r\n                <div className=\"container-description\"><p>{i.description}</p></div>\r\n                <hr />\r\n                <Link to={`iniciativas/${i.id}/resumen`}> Ver Más...</Link>\r\n              </div>\r\n            </div>\r\n          </Link >\r\n        })}</div> : \"\"}</div>\r\n        :\r\n        <h5>Loading...</h5>\r\n      }\r\n\r\n{initiativesBarrio.filter(u => u.userId != user.uid).length > 0 ?\r\n        <h3>{userInfo ? userInfo.lugar : \"\"}</h3> :\r\n        <div> <h3>Tu barrio</h3><p>{`Aún no hay iniciativas en el barrio ${userInfo ? userInfo.lugar : \"\"}. ¡Invita tus vecinos a crear una!`}</p></div>}\r\n\r\n\r\n      {initiativesBarrio\r\n        ?\r\n        <div className=\"initiative-feed\">{initiativesBarrio.length > 0 ? <div className=\"initiative-feed-container\">{initiativesBarrio.filter(u => u.userId != user.uid).sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n          return < Link to={`iniciativas/${i.id}/resumen`\r\n          } key={i.id}>\r\n            <div className=\"container\">\r\n              <div className=\"container-top\">\r\n                \r\n                <div className=\"title-button\">\r\n                  <h4>{i.name}</h4>\r\n                  {user ? user.uid !== i.userId ? <button onClick={(e) => { e.preventDefault(); setLikes(i.id, { by: user?.displayName, uid: user.uid }, i.followers) }} className={like(i.followers) ? \"like\" : \"unlike\"}>\r\n                    {like(i.followers) ? \"Siguiendo\" : \"Seguir\"}\r\n                  </button> : \"\" : \"\"}\r\n                </div>\r\n\r\n                <div className=\"container-author-time\">\r\n                  <h5>{\"Por \" + i.creator} | </h5>\r\n                  <h5>{i.createdAt ? i.createdAt.toDate().toLocaleDateString(\"es-ES\", options) + \" \" + i.createdAt.toDate().toLocaleTimeString(\"es-ES\", optionsTime) : \"\"}</h5>\r\n                </div>\r\n\r\n                <div className=\"container-location\">\r\n                  <h5>{`Localidad ${i.localidad_lugar} | ${i.lugar} | ${i.keywords.join(\",\")}`}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"container-bot\">\r\n                <div className=\"container-img\">\r\n                  {i.img.map((im, index) => { return <img key={index} src={im} alt=\"\" /> })}\r\n                </div>\r\n                <div className=\"container-description\"><p>{i.description}</p></div>\r\n                <hr />\r\n                <Link to={`iniciativas/${i.id}/resumen`}> Ver Más...</Link>\r\n              </div>\r\n            </div>\r\n          </Link >\r\n        })}</div> : \"\"}</div>\r\n        :\r\n        <h5>Loading...</h5>\r\n      }\r\n\r\n{initiativesLocalidad.filter(u => u.userId != user.uid).length > 0 ?\r\n        <h3>{userInfo ? `Localidad ${userInfo.localidad_lugar}` : \"\"}</h3> : <div> <h3> Tu localidad</h3><p>{`Aún no hay iniciativas en la Localidad ${userInfo.localidad_lugar}. ¡Qué esperas para que tu comunidad cree una iniciativa de cambio!`}</p></div>}\r\n\r\n      {initiativesLocalidad\r\n        ?\r\n        <div className=\"initiative-feed\">{initiativesLocalidad.length > 0 ? <div className=\"initiative-feed-container\">{initiativesLocalidad.filter(u => u.userId != user.uid).sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n          return < Link to={`iniciativas/${i.id}/resumen`\r\n          } key={i.id}>\r\n            <div className=\"container\">\r\n              <div className=\"container-top\">\r\n                <div className=\"title-button\">\r\n                  <h4>{i.name}</h4>\r\n                  {user ? user.uid !== i.userId ? <button onClick={(e) => { e.preventDefault(); setLikes(i.id, { by: user?.displayName, uid: user.uid }, i.followers) }} className={like(i.followers) ? \"like\" : \"unlike\"}>\r\n                    {like(i.followers) ? \"Siguiendo\" : \"Seguir\"}\r\n                  </button> : \"\" : \"\"}\r\n                </div>\r\n\r\n                <div className=\"container-author-time\">\r\n                  <h5>{\"Por \" + i.creator} | </h5>\r\n                  <h5>{i.createdAt ? i.createdAt.toDate().toLocaleDateString(\"es-ES\", options) + \" \" + i.createdAt.toDate().toLocaleTimeString(\"es-ES\", optionsTime) : \"\"}</h5>\r\n                </div>\r\n\r\n                <div className=\"container-location\">\r\n                  <h5>{`Localidad ${i.localidad_lugar} | ${i.lugar} | ${i.keywords.join(\",\")}`}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"container-bot\">\r\n                <div className=\"container-img\">\r\n                  {i.img.map((im, index) => { return <img key={index} src={im} alt=\"\" /> })}\r\n                </div>\r\n                <div className=\"container-description\"><p>{i.description}</p></div>\r\n                <hr />\r\n                <Link to={`iniciativas/${i.id}/resumen`}> Ver Más...</Link>\r\n              </div>\r\n            </div>\r\n          </Link >\r\n        })}</div> : \"\"}</div>\r\n        :\r\n        <h5>Loading...</h5>\r\n      }\r\n    </div>\r\n    : <div className=\"modal loader\"><div id=\"loading\"></div></div>)\r\n}\r\n\r\nexport default Inicio\r\n","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\nimport { UserContext } from \"../providers/UserContext\";\r\nimport { serverTimestampF } from \"../firebase\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nfunction Discussion({ user, id }) {\r\n\r\n  const { handleQuery, unSubscribeFromFeed } = useContext(InitiativeContext)\r\n\r\n\r\n  const history = useHistory();\r\n  const formEl = useRef();\r\n  const [file, setFile] = useState();\r\n\r\n  const { comments, handleNewDoc, uploadImage, progress } = useContext(InitiativeContext)\r\n  useEffect(() => {\r\n    console.log(user)\r\n    if (user) {\r\n      handleQuery(\"comments\", \"initiative_id\", \"==\", id)\r\n      console.log(comments)\r\n    }\r\n    return () => { unSubscribeFromFeed() };\r\n  }, []);\r\n\r\n\r\n  const handleNew = async (e) => {\r\n    console.log(handleSubmit(e));\r\n    const referencia = await handleNewDoc(\"comments\", handleSubmit(e));\r\n    formEl.current.reset()\r\n    console.log(\"referencia es:\", referencia);\r\n\r\n  }\r\n\r\n  const handleImages = async (e) => {\r\n    var imageUrl = \"\";\r\n    try {\r\n      imageUrl = await uploadImage(e.target.files[0], e.target.files[0].name);\r\n    } catch (error) {\r\n      console.log(\"Promise Image\", error)\r\n    }\r\n    setFile(imageUrl);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n\r\n    event.preventDefault();\r\n\r\n    setFile();\r\n    const formInputs = [...formEl.current.elements].map(e => {\r\n      return { [e.name]: e.value }\r\n    }).filter((value) => Object.keys(value).length !== 0).filter((value) => Object.keys(value)[0] !== \"\");\r\n\r\n    const newSubmitted = formInputs.reduce((acc, input) => {\r\n      return {\r\n        ...acc, ...input, userId: user.uid, initiative_id: id, creator: user.displayName, replies: []\r\n      };\r\n    }, 0);\r\n\r\n    return { ...newSubmitted, createdAt: serverTimestampF(), img: file ? file : \"\" }\r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"initiative discussion\">\r\n\r\n      {comments ? <div className=\"initiative-sub-two\">\r\n\r\n        <h4>{`Comentarios (${comments.length})`}</h4>\r\n\r\n        <form ref={formEl} onSubmit={(e) => handleNew(e)} id=\"confirmationForm\">\r\n\r\n          {file ? <img src={file} alt=\"\" /> : \"\"}\r\n\r\n          <input id=\"name-input\" name=\"content\" type=\"text\" placeholder=\"¿Qué piensas?\" />\r\n\r\n          <div className=\"images\">\r\n            <input type=\"file\" id=\"file\" name=\"img\" accept=\"image/*\" onChange={(e) => handleImages(e)} />\r\n            <label htmlFor=\"file\">\r\n              {progress === 0 ? file ? \"📸\" : <p>📸</p> : <p>{progress + \"%\"}</p>}</label>\r\n          </div>\r\n\r\n          <button type=\"submit\"></button>\r\n        </form>\r\n\r\n\r\n        {\r\n          comments.length > 0 ?\r\n            <div className=\"initiative-container\">\r\n              {comments.sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n                return <NavLink activeClassName='active' exact={true} to={`discusion/${i.id}`} key={i.id} className=\"Comentario\">\r\n                  <h3>{i.creator}</h3>\r\n                  <p>{i.createdAt ? i.createdAt.toDate().toLocaleString() : \"\"}</p>\r\n                  {i.img ? <img src={i.img} alt=\"\" /> : \"\"}\r\n                  {i.content}\r\n\r\n                </NavLink>\r\n\r\n              })\r\n              }</div>\r\n            : \"Aún no hay comentarios para esta iniciativa.\"\r\n        }</div> : \"\"}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Discussion\r\n","import React, { useContext } from 'react'\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\nimport Discussion from \"./Discussion\";\r\nfunction Summary({ initiative, user, id }) {\r\n\r\n  const { setLikes } = useContext(InitiativeContext)\r\n\r\n  const like = (array) => {\r\n    let result = array.map(a => a.uid);\r\n    return array.length > 0 ? result.includes(user.uid) : false;\r\n  }\r\n\r\n  return (\r\n    initiative ?\r\n      <div className=\"top-initiative-parent\">\r\n\r\n        <div className=\"initiative-name-follow\">\r\n          <h2>{initiative.name}</h2>\r\n\r\n          {user ? user.uid !== initiative.userId ?\r\n            <button onClick={(e) => { setLikes(id, { by: user?.displayName, uid: user.uid }, initiative.followers) }} className={like(initiative.followers) ? \"like\" : \"unlike\"}>{like(initiative.followers) ? \"Siguiendo\" : \"Seguir\"}</button> : \"\" : \"\"}\r\n        </div>\r\n\r\n        <div className=\"info-initiative\">\r\n\r\n          <div className=\"info-initiative-creator\"><h5>{\"Por \" + initiative.creator} |</h5>\r\n            <h5>{\"Temas: \" + initiative.keywords.join(\", \")}</h5>\r\n          </div>\r\n\r\n          <div className=\"images-iniciativa\">\r\n            {initiative.img ?\r\n              initiative.img.map((i, index) => {\r\n                return <img key={index} src={i} alt=\"\" />\r\n              }) : \"\"}\r\n\r\n            {initiative.img.length > 0 && initiative.img.length < 2 ?\r\n              <div>  <img src=\"https://wallpaperaccess.com/full/1285952.jpg\" alt=\"\" />\r\n                <img src=\"https://wallpaperaccess.com/full/1285952.jpg\" alt=\"\" /></div> : \"\"}\r\n\r\n            {initiative.img.length > 1 ?\r\n              <img src=\"https://wallpaperaccess.com/full/1285952.jpg\" alt=\"\" />\r\n              : \"\"}\r\n\r\n\r\n          </div >\r\n          <br />\r\n          <h4>{initiative.followers.length === 0 ? \"Sé la primera persona en apoyar esta iniciativa\" : `${initiative.followers.length} ${initiative.followers.length > 1 ? \"personas apoyan \" : \"persona apoya \"} este proyecto.`}</h4>\r\n          <h3>{initiative.description}</h3>\r\n\r\n        </div>\r\n        <hr />\r\n        <Discussion user={user} id={id} />\r\n      </div > : \"\"\r\n\r\n  )\r\n}\r\n\r\nexport default Summary\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\nfunction Change({ user, id }) {\r\n\r\n  const { changes, handleQuery, unSubscribeFromFeed } = useContext(InitiativeContext)\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      handleQuery(\"changes\", \"initiative_id\", \"==\", id)\r\n      console.log(changes)\r\n    }\r\n    return () => { unSubscribeFromFeed() };\r\n  }, []);\r\n\r\n  return (\r\n\r\n    <div className=\"initiative initiative-change\">\r\n      {changes ? <div className=\"initiative-sub-two\">{\r\n        changes.length > 0 ?\r\n          <div className=\"initiative-container\">{\r\n            changes.sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n              return <div className=\"anuncio\">\r\n                {i.img ? <img src={i.img} alt=\"\" /> : \"\"}\r\n                <p>{i.createdAt? i.createdAt.toDate().toLocaleString():\"\"}</p>\r\n                <h3>{i.content}</h3>{i.update}</div>\r\n            })\r\n          }\r\n          </div>\r\n          : \"Aún no hay anuncios para esta iniciativa.\"\r\n      }</div> : \"\"}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Change\r\n","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\n\r\nfunction Comment({ user, id }) {\r\n\r\n let { commentId } = useParams();\r\n\r\n const { handleGetDoc, unSubscribeFromDoc, comment, setReplies } = useContext(InitiativeContext)\r\n\r\n const formEl = useRef();\r\n\r\n useEffect(() => {\r\n  handleGetDoc(commentId, \"comments\");\r\n  console.log(comment)\r\n  return () => {\r\n   unSubscribeFromDoc();\r\n  }\r\n\r\n }, [localStorage.getItem('user')])\r\n\r\n const handleNew = async (e) => {\r\n  setReplies(commentId, id, handleSubmit(e), comment.replies)\r\n  formEl.current.reset()\r\n }\r\n\r\n const handleSubmit = (event) => {\r\n  event.preventDefault();\r\n  const formInputs = [...formEl.current.elements].map(e => {\r\n   return { [e.name]: e.value }\r\n  }).filter((value) => Object.keys(value).length !== 0).filter((value) => Object.keys(value)[0] !== \"\");\r\n  const newSubmitted = formInputs.reduce((acc, input) => {\r\n   return {\r\n    ...acc, ...input, userId: user.uid, by: user.displayName, by_id: user.uid\r\n   };\r\n  }, 0);\r\n\r\n  var currentdate = new Date();\r\n\r\n  return { ...newSubmitted, createdAt: currentdate }\r\n\r\n };\r\n\r\n return (\r\n  <div className=\"initiative-sub-two\">\r\n   {comment ? <div className=\"initiative-sub-two\">\r\n\r\n    <div className=\"initiative-container\">\r\n\r\n     <div className=\"ZoomComentario\">\r\n      <h3>{comment.creator}</h3>\r\n      {comment.img ? <img src={comment.img} alt=\"\" /> : \"\"}\r\n      {comment.title}\r\n\r\n     </div>\r\n\r\n    </div>\r\n    <form className=\"comment-reply\" ref={formEl} onSubmit={(e) => handleNew(e)} id=\"confirmationForm\">\r\n\r\n     <input id=\"name-input\" name=\"content\" type=\"text\" placeholder=\"¿Qué piensas?\" />\r\n\r\n     <button type=\"submit\" onSubmit={(event) => handleNew(event)}></button>\r\n    </form>\r\n\r\n    {\r\n     comment.replies.sort((a, b) => { return b.createdAt - a.createdAt }).map((r, index) => { return <div key={index} className=\"container\"><h3>{r.creator}</h3><p>{r.createdAt.toDate().toLocaleString()}</p> <p>{r.content}</p></div> })\r\n    }\r\n   </div> : \"\"}\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Comment\r\n","import React, { useRef, useState, useContext } from 'react'\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { serverTimestampF } from \"./firebase\";\r\nfunction DiscussionModalCreate({ toggleModalCreate, id }) {\r\n\r\n  const [keywords, setKeywords] = useState([\"Seguridad\", \"Infraestructura\", \"Movilidad\", \"Educación\", \"Medio Ambiente\", \"Transparencia\"])\r\n\r\n  const [file, setFile] = useState();\r\n  const [sent, setSent] = useState();\r\n  const { handleNewDoc, uploadImage, progress } = useContext(InitiativeContext)\r\n\r\n  const { user, userInfo } = useContext(UserContext)\r\n\r\n  const formEl = useRef();\r\n\r\n  const handleNew = async (e) => {\r\n    console.log(handleSubmit(e));\r\n    const referencia = await handleNewDoc(\"changes\", handleSubmit(e));\r\n    console.log(\"referencia es:\", referencia);\r\n    setSent(true);\r\n    setTimeout(() => {\r\n      toggleModalCreate();\r\n    }, 5000);\r\n  }\r\n\r\n  const handleImages = async (e) => {\r\n    var imageUrl = \"\";\r\n    try {\r\n      imageUrl = await uploadImage(e.target.files[0], e.target.files[0].name);\r\n    } catch (error) {\r\n      console.log(\"Promise Image\", error)\r\n    }\r\n    setFile(imageUrl);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const formInputs = [...formEl.current.elements].map(e => {\r\n      return { [e.name]: e.value }\r\n    }).filter((value) => Object.keys(value).length !== 0).filter((value) => Object.keys(value)[0] !== \"\");\r\n\r\n    const newSubmitted = formInputs.reduce((acc, input) => {\r\n      return {\r\n        ...acc, ...input, userId: user.uid, initiative_id: id, creator: user.displayName\r\n      };\r\n    }, 0);\r\n\r\n    return { ...newSubmitted, createdAt: serverTimestampF(), img: file ? file : \"\" }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\" onClick={toggleModalCreate}>\r\n      <div className=\"modal-body\" onClick={(e) => e.stopPropagation()}>\r\n        <div onClick={toggleModalCreate}><strong>x</strong> </div>\r\n        {!sent ?\r\n          <div className=\"modal-form\">\r\n\r\n            <form ref={formEl} onSubmit={(e) => handleNew(e)} id=\"confirmationForm\">\r\n              <label htmlFor=\"name-input\"> Titulo del Proyecto</label>\r\n              <input id=\"name-input\" name=\"content\" type=\"text\" placeholder=\"Titulo de tu proyecto\" />\r\n              <label htmlFor=\"team-input\">Descripción</label>\r\n              <textarea name=\"update\" type=\"text\" cols=\"40\" rows=\"5\" />\r\n              <label>Añadir Imágenes</label>\r\n\r\n              <div className=\"modal-upload-images\" >\r\n\r\n                <div className=\"images\">\r\n\r\n                  <input type=\"file\" id=\"file\" name=\"img\" accept=\"image/*\" onChange={(e) => handleImages(e)} />\r\n\r\n                  <label htmlFor=\"file\">\r\n                    <progress id=\"file\" value={progress} max=\"100\" style={progress === 0 ? {} : { background: \"#FF8D97\" }} />{progress === 0 ? file ? \"reemplazar\" : <p>+</p> : <p>{progress + \"%\"}</p>}</label>\r\n                  {file\r\n                    ? <div className=\"image-added\">\r\n                      <p>Eliminar</p>\r\n                      <img src={file} alt=\"\" />\r\n                    </div>\r\n                    : \"\"}\r\n                </div>\r\n              </div>\r\n\r\n              <button type=\"submit\">Subir Anuncio</button>\r\n            </form>\r\n          </div> : \"Anuncio Enviado\"}\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default DiscussionModalCreate\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\nimport { UserContext } from \"../providers/UserContext\";\r\nimport Summary from \"./Summary\";\r\nimport Change from \"./Change\";\r\nimport Discussion from \"./Discussion\";\r\nimport Comment from \"./Comment\";\r\nimport { useParams, Route, NavLink, useHistory } from \"react-router-dom\";\r\nimport DiscussionModalCreate from \"../DiscussionModalCreate\";\r\nimport { SettingsContext } from \"../providers/SettingsContext\";\r\n\r\nfunction Iniciative() {\r\n\r\n  const history = useHistory();\r\n\r\n  let { iniciativeId } = useParams();\r\n\r\n  const { modalCreate, toggleModalCreate } = useContext(SettingsContext)\r\n\r\n  const { handleGetDoc, initiative, unSubscribeFromDoc } = useContext(InitiativeContext)\r\n\r\n  const [location, setLocation] = useState(\"Resumen\")\r\n\r\n  const { user } = useContext(UserContext)\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('user') === \"null\" || !localStorage.getItem('user')) {\r\n      history.push(\"/login\");\r\n    }\r\n    handleGetDoc(iniciativeId, \"initiatives\");\r\n    return () => {\r\n      unSubscribeFromDoc();\r\n    }\r\n\r\n  }, [localStorage.getItem('user')])\r\n\r\n  return (\r\n\r\n    <div className=\"initiative\">\r\n\r\n      {initiative ?\r\n        <div className=\"initiative-parent\">\r\n          <div className=\"initiative-breadcrumbs-nav\">\r\n            <h5> {\"Iniciativas > Localidad \" + initiative.localidad_lugar + \" >   \" + initiative.lugar + \" > \" + initiative.name + \" > \" + location}</h5>\r\n            <div className=\"initiative-actions\">\r\n              <ul>\r\n                <li onClick={() => {\r\n                  setLocation(\"Resumen\");\r\n                  handleGetDoc(iniciativeId, \"initiatives\");\r\n                }}>\r\n                  <NavLink activeClassName='active' exact={true} to={`/iniciativas/${iniciativeId}/resumen`} className=\"initiative-action\">Resumen</NavLink>\r\n                </li>\r\n                <li onClick={() => { setLocation(\"Anuncios\"); handleGetDoc(iniciativeId, \"initiatives\"); }}>\r\n                  <NavLink activeClassName='active' exact={true} to={`/iniciativas/${iniciativeId}/anuncios`} className=\"initiative-action\">Anuncios</NavLink>\r\n                </li>\r\n                <li onClick={() => { setLocation(\"Discusión\"); handleGetDoc(iniciativeId, \"initiatives\"); }}>\r\n                  <NavLink activeClassName='active' strict to={`/iniciativas/${iniciativeId}/discusion`} className=\"initiative-action\">Discusión</NavLink></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <Route exact path={`/iniciativas/${iniciativeId}/resumen`} >\r\n            <Summary initiative={initiative} user={user} id={iniciativeId} />\r\n          </Route>\r\n\r\n          <Route exact path={`/iniciativas/${iniciativeId}/anuncios`} >\r\n            <Change initiative={initiative} user={user} id={iniciativeId} />\r\n\r\n            {user ? user.uid === initiative.userId ? modalCreate ? <DiscussionModalCreate toggleModalCreate={toggleModalCreate} id={iniciativeId} />\r\n              : <button className=\"button-add\" onClick={toggleModalCreate} >  + </button> : \"\" : \"\"}\r\n\r\n\r\n          </Route >\r\n          <Route exact path={`/iniciativas/${iniciativeId}/discusion`} >\r\n            <Discussion initiative={initiative} user={user} id={iniciativeId} />\r\n          </Route >\r\n          <Route exact path={`/iniciativas/${iniciativeId}/discusion/:commentId`} >\r\n            <Comment initiative={initiative} user={user} id={iniciativeId} />\r\n          </Route >\r\n        </div>\r\n        : <div className=\"modal loader\"><div id=\"loading\"></div></div>}\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Iniciative\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { UserContext } from \"./providers/UserContext\";\r\n\r\nimport Map from \"./Map\";\r\n\r\nimport { useParams } from \"react-router-dom\";\r\nfunction Users() {\r\n\r\n let { userId } = useParams();\r\n\r\n const { user, userInfo, getUserInfo } = useContext(UserContext)\r\n\r\n const [userRendered, setUserRendered] = useState()\r\n\r\n useEffect(async () => {\r\n\r\n  var u = await getUserInfo(userId);\r\n  setUserRendered(u);\r\n\r\n  return () => { setUserRendered() };\r\n\r\n }, [userId])\r\n\r\n return (\r\n  <div>\r\n   {userRendered ?\r\n\r\n    <div className=\"location-users\">\r\n     <div className=\"location-users-text\">\r\n      <h1>{userRendered.nombre}</h1>\r\n      <h2>{`${userId === user.uid ? \"Te interesan iniciativas sobre: \" : `Le interesan iniciativas sobre:`}` + userRendered.intereses.join(\", \")}</h2>\r\n      <div className=\"location-users-text\">\r\n      </div>\r\n      <br />\r\n      <h3>{`${userId === user.uid ? \"Tu localidad es la #\" : `Su localidad es la #`}` + userRendered.localidad_lugar}</h3>\r\n      <h3>{`${userRendered.tipo_lugar == 1 ? \"Barrio: \" : \"Corregimiento:\"}` + userRendered.lugar}</h3>\r\n     </div>\r\n     <div className=\"location-users-img\">\r\n      <Map localidad={userRendered.localidad_lugar} />\r\n     </div>\r\n    </div>\r\n    : \"\"}\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Users\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Route, useHistory } from \"react-router-dom\";\r\nimport Barranav from \"./Barranav\";\r\nimport Inititatives from './Initiatives';\r\nimport InitiativeModalCreate from \"./InitiativeModalCreate\";\r\nimport Filtros from \"./Filtros\";\r\nimport Inicio from \"./Inicio\";\r\nimport { SettingsContext } from \"./providers/SettingsContext\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport Iniciative from \"./Initiative/Iniciative\";\r\nimport Users from \"./Users\";\r\n\r\nfunction Main() {\r\n\r\n  const { modalCreate, toggleModalCreate } = useContext(SettingsContext)\r\n\r\n  const { user, userInfo } = useContext(UserContext);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n\r\n    if (localStorage.getItem('user') == \"null\" || !localStorage.getItem('user')) {\r\n      history.push(\"/login\")\r\n    }\r\n\r\n  }, [localStorage.getItem('user')])\r\n\r\n\r\n  return (\r\n    user ?\r\n      <div className=\"app\">\r\n        <Barranav />\r\n        <Route exact path=\"/\">\r\n          <Inicio />\r\n        </Route>\r\n        <Route exact path=\"/iniciativas\">\r\n          <Filtros />\r\n          <Inititatives />\r\n          {modalCreate ?\r\n            <InitiativeModalCreate toggleModalCreate={toggleModalCreate} />\r\n            : <button className=\"button-add\" onClick={toggleModalCreate}> + </button>}\r\n        </Route>\r\n        <Route path=\"/iniciativas/:iniciativeId\">\r\n          <Iniciative />\r\n        </Route>\r\n        <Route path=\"/usuario/:userId\">\r\n          <Users />\r\n        </Route>\r\n\r\n      </div>\r\n      : <div className=\"modal loader\"><div id=\"loading\"></div></div>)\r\n}\r\n\r\nexport default Main\r\n","import React from \"react\";\r\nimport './App.css';\r\nimport Login from \"./Login\";\r\nimport Main from \"./Main\";\r\n\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Main />\r\n        </Route>\r\n        <Route path=\"/iniciativas\">\r\n          <Main />\r\n        </Route>\r\n        <Route path=\"/usuario\">\r\n          <Main />\r\n        </Route>\r\n        <Route exact path=\"/login\">\r\n          <Login />\r\n        </Route>\r\n        <Route path=\"*\">\r\n          <h2>Error 404</h2>\r\n        </Route>\r\n      </Switch>\r\n    </BrowserRouter >\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport UserContext from \"./providers/UserContext\";\r\nimport InitiativeContext from \"./providers/InitiativeContext\";\r\nimport SettingsContext from \"./providers/SettingsContext\";\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserContext>\r\n      <InitiativeContext>\r\n        <SettingsContext>\r\n          <App />\r\n        </SettingsContext>\r\n      </InitiativeContext>\r\n    </UserContext >\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n"],"sourceRoot":""}