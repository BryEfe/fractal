{"version":3,"sources":["firebase.js","providers/UserContext.js","svg/loc_0.svg","svg/loc_1.svg","svg/loc_2.svg","svg/loc_3.svg","svg/loc_4.svg","svg/loc_5.svg","svg/loc_6.svg","Map.js","SignUp.js","svg/home.svg","svg/fractal.svg","Login.js","svg/logout_icon.svg","svg/notificacion.svg","svg/notificacion2.svg","svg/notificacion_pressed.svg","providers/InitiativeContext.js","providers/SettingsContext.js","svg/my_anuncio.svg","svg/follow_anuncio.svg","Notification.js","Barranav.js","Initiatives.js","InitiativeModalCreate.js","Filtros.js","Inicio.js","Initiative/Discussion.js","Initiative/Summary.js","Initiative/Change.js","Initiative/Comment.js","DiscussionModalCreate.js","Initiative/Iniciative.js","Users.js","Main.js","App.js","index.js"],"names":["app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","collectionF","collection","onSnapshotF","onSnapshot","addDocF","addDoc","serverTimestampF","serverTimestamp","docF","deleteDoc","doc","getStorageF","getStorage","sRef","ref","uploadBytesResumableF","uploadBytesResumable","getDownloadURLF","getDownloadURL","createUserWithEmailAndPasswordF","createUserWithEmailAndPassword","signInWithEmailAndPasswordF","signInWithEmailAndPassword","onAuthStateChangedF","onAuthStateChanged","signOutF","signOut","auth","getAuth","updateProfileF","updateProfile","setDocF","setDoc","getDocF","getDoc","queryF","query","whereF","where","UserContext","createContext","UserContextProvider","props","useState","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","registerName","setRegisterName","loginEmail","setLoginEmail","loginPassword","setLoginPassword","errorMessage","setErrorMessage","user","setUser","userInfo","setUserInfo","currentUser","getUserInfo","uid","localStorage","getItem","setItem","register","info","intereses","a","console","log","then","userRec","lugar","id_lugar","id","tipo_lugar","tipo","localidad_lugar","localidad","nombre","catch","error","displayName","message","login","logout","docRef","docSnap","exists","data","Provider","value","children","Map","className","src","s","cero","uno","dos","tres","cuatro","cinco","seis","svgSwitch","alt","SignUp","setPopUpSignUp","useContext","checks","useRef","b","barrios","setBarrios","barrio","setBarrio","topics","setTopics","useHistory","t","keywords","isToggled","setIsToggled","onClick","e","stopPropagation","placeholder","onChange","event","target","type","split","length","checked","arrayBarrios","filter","list","barrioX","handleLocation","map","index","k","name","hidden","includes","Login","history","popUpSignUp","useEffect","email","push","logo","home","InitiativeContext","InitiativeContextProvider","initiatives","setInitiatives","initiative","setInitiative","initiativesKeywords","setinitiativesKeywords","initiativesLocalidad","setInitiativesLocalidad","initiativesBarrio","setInitiativesBarrio","comment","setComment","progress","setProgress","myInitiativeUpdates","setMyInitiativeUpdates","myFollowedInitiatives","setMyFollowedInitiatives","changes","setChanges","comments","setComments","setPickedLugar","update","setUpdate","unsubscribeInititatives","unsubscribeInititative","handleQuery","operator","feed","q","d","docs","handleNewDoc","payload","handleUpdates","initiative_id","action","handleTypeUpdate","followers","creator","initiativeName","creatorId","userId","createdAt","Date","handleUpdateContent","content","by","by_id","setLikes","oldArray","newArray","oi","merge","setReplies","commentId","initiativeId","replies","handleUserFeed","keyword","handleUserUpdates","uploadImage","imageToUpload","storage","storageRef","uploadTask","contentType","Promise","resolve","reject","on","snap","Math","round","bytesTransferred","totalBytes","snapshot","downloadURL","unSubscribeFromFeed","handleGetDoc","unSubscribeFromDoc","SettingsContext","SettingsContextProvider","modalCreate","setModalCreate","barUpdates","setBarUpdates","toggleModalCreate","toggleBarUpdates","condition","Notification","updates","my_anuncio","follow_anuncio","to","toDate","toLocaleString","Barranav","setUpdates","u","sort","fractal","activeClassName","exact","notificacion_pressed","notification2","notification","logout_icon","Card","options","weekday","month","day","optionsTime","hour12","like","array","result","i","preventDefault","toLocaleDateString","toLocaleTimeString","join","img","im","description","IniciativeModalCreate","file","setFile","sent","setSent","formEl","handleNew","handleSubmit","referencia","setTimeout","handleImages","imageUrl","files","oldFile","kArray","newSubmitted","current","elements","hasOwnProperty","Object","keys","reduce","acc","input","onSubmit","htmlFor","cols","rows","accept","max","style","background","f","Filtros","localeCompare","selected","setSelected","texto","valor","handleBarrios","refplaceholder","parseInt","handleLocalidades","disabled","handleTemas","Inicio","keywordsUser","setKeywordsUser","slice","Discussion","reset","Summary","Change","Comment","useParams","currentdate","title","r","DiscussionModalCreate","Iniciative","iniciativeId","location","setLocation","strict","path","Users","userRendered","setUserRendered","Main","InitiativeModalCreate","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27318178.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\"\r\nimport { getFirestore, collection, onSnapshot, addDoc, serverTimestamp, deleteDoc, doc, setDoc, getDoc, query, where } from \"@firebase/firestore\";\r\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"@firebase/storage\";\r\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile } from \"firebase/auth\";\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n apiKey: process.env.REACT_APP_API_KEY,\r\n authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n projectId: process.env.REACT_APP_projectId,\r\n storageBucket: process.env.REACT_APP_storageBucket,\r\n messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n appId: process.env.REACT_APP_appId,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const db = getFirestore(app);\r\n\r\nexport const collectionF = collection;\r\n\r\nexport const onSnapshotF = onSnapshot;\r\n\r\nexport const addDocF = addDoc;\r\n\r\nexport const serverTimestampF = serverTimestamp;\r\n\r\nexport const deleteDocF = deleteDoc;\r\n\r\nexport const docF = doc;\r\n\r\nexport const getStorageF = getStorage;\r\n\r\nexport const sRef = ref;\r\n\r\nexport const uploadBytesResumableF = uploadBytesResumable;\r\n\r\nexport const getDownloadURLF = getDownloadURL;\r\n\r\nexport const createUserWithEmailAndPasswordF = createUserWithEmailAndPassword;\r\n\r\nexport const signInWithEmailAndPasswordF = signInWithEmailAndPassword;\r\n\r\nexport const onAuthStateChangedF = onAuthStateChanged;\r\n\r\nexport const signOutF = signOut;\r\n\r\nexport const auth = getAuth(app);\r\n\r\nexport const updateProfileF = updateProfile;\r\n\r\nexport const setDocF = setDoc;\r\n\r\nexport const getDocF = getDoc;\r\n\r\nexport const queryF = query;\r\n\r\nexport const whereF = where;\r\n\r\n\r\n\r\n\r\n","import React, { createContext, useState } from \"react\";\r\nimport { auth, createUserWithEmailAndPasswordF, signInWithEmailAndPasswordF, onAuthStateChangedF, signOutF, updateProfileF, collectionF, setDocF, db, docF, getDocF } from \"../firebase\";\r\n\r\n\r\nexport const UserContext = createContext();\r\n\r\nfunction UserContextProvider(props) {\r\n\r\n const [registerEmail, setRegisterEmail] = useState(\"\");\r\n const [registerPassword, setRegisterPassword] = useState(\"\");\r\n const [registerName, setRegisterName] = useState(\"\");\r\n const [loginEmail, setLoginEmail] = useState(\"\");\r\n const [loginPassword, setLoginPassword] = useState(\"\");\r\n const [errorMessage, setErrorMessage] = useState()\r\n const [updates, setUpdates] = useState()\r\n const [user, setUser] = useState();\r\n const [userInfo, setUserInfo] = useState();\r\n\r\n onAuthStateChangedF(auth, (currentUser) => {\r\n  setUser(currentUser);\r\n  if (currentUser && !userInfo) {\r\n   getUserInfo(currentUser.uid);\r\n  }\r\n  if (currentUser) {\r\n   if (localStorage.getItem('user') === \"null\" || !localStorage.getItem('user')) {\r\n    localStorage.setItem('user', currentUser.uid);\r\n   }\r\n\r\n  }\r\n\r\n });\r\n\r\n const register = async (info, intereses) => {\r\n\r\n  console.log(\"Info inside User Context\", info)\r\n\r\n  try {\r\n   await createUserWithEmailAndPasswordF(auth, registerEmail, registerPassword).then(async (userRec) => {\r\n    const user = userRec.user;\r\n    await setDocF(docF(db, \"users\", user.uid), {\r\n     lugar: info.lugar,\r\n     id_lugar: info.id,\r\n     tipo_lugar: info.tipo,\r\n     localidad_lugar: info.localidad,\r\n     intereses: intereses,\r\n     nombre: registerName\r\n    }).catch((error) => { console.log(error); });\r\n   }).catch((error) => { console.log(error); });\r\n   await updateProfileF(auth.currentUser, {\r\n    displayName: registerName\r\n   });\r\n\r\n  } catch (error) {\r\n   setErrorMessage(error.message);\r\n  }\r\n }\r\n\r\n const login = async () => {\r\n  try {\r\n   await signInWithEmailAndPasswordF(\r\n    auth,\r\n    loginEmail,\r\n    loginPassword\r\n   );\r\n  } catch (error) {\r\n   setErrorMessage(error.message);\r\n  }\r\n };\r\n\r\n const logout = async () => {\r\n  localStorage.setItem('user', null);\r\n  setErrorMessage();\r\n  await signOutF(auth);\r\n };\r\n\r\n const getUserInfo = async (id) => {\r\n  const docRef = docF(db, \"users\", id);\r\n  var docSnap = await getDocF(docRef);\r\n  if (docSnap.exists()) {\r\n   if (user) {\r\n    if (id == user.uid) {\r\n     setUserInfo(docSnap.data());\r\n    }\r\n   }\r\n   docSnap = docSnap.data()\r\n  } else {\r\n   console.log(\"No such document!\");\r\n  }\r\n  return docSnap\r\n }\r\n\r\n\r\n\r\n return (\r\n  <UserContext.Provider value={{ userInfo, errorMessage, user, auth, registerPassword, getUserInfo, setUser, logout, login, register, setRegisterEmail, setRegisterPassword, setLoginEmail, setLoginPassword, setRegisterName }}>\r\n   {props.children}\r\n  </UserContext.Provider>\r\n )\r\n}\r\n\r\nexport default UserContextProvider\r\n","export default __webpack_public_path__ + \"static/media/loc_0.2d99f3d3.svg\";","export default __webpack_public_path__ + \"static/media/loc_1.20412231.svg\";","export default __webpack_public_path__ + \"static/media/loc_2.14bdde58.svg\";","export default __webpack_public_path__ + \"static/media/loc_3.ddbd095f.svg\";","export default __webpack_public_path__ + \"static/media/loc_4.0322b9f8.svg\";","export default __webpack_public_path__ + \"static/media/loc_5.eef2d849.svg\";","export default __webpack_public_path__ + \"static/media/loc_6.b98329c3.svg\";","import React, { useState } from 'react'\r\nimport cero from \"./svg/loc_0.svg\";\r\nimport uno from \"./svg/loc_1.svg\";\r\nimport dos from \"./svg/loc_2.svg\";\r\nimport tres from \"./svg/loc_3.svg\";\r\nimport cuatro from \"./svg/loc_4.svg\";\r\nimport cinco from \"./svg/loc_5.svg\";\r\nimport seis from \"./svg/loc_6.svg\";\r\nfunction Map({ localidad }) {\r\n\r\n const svgSwitch = () => {\r\n\r\n  var s = {};\r\n  switch (localidad) {\r\n   case 0:\r\n    s = cero;\r\n    break;\r\n   case 1:\r\n    s = uno;\r\n    break;\r\n   case 2:\r\n    s = dos;\r\n    break;\r\n   case 3:\r\n    s = tres;\r\n    break;\r\n   case 4:\r\n    s = cuatro;\r\n    break;\r\n   case 5:\r\n    s = cinco;\r\n    break;\r\n   case 6:\r\n    s = seis;\r\n    break;\r\n  }\r\n  return s;\r\n }\r\n return (\r\n  <div className=\"mapa\">\r\n   <img src={svgSwitch(localidad)} alt=\"\" />\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Map\r\n","import React, { useContext, useEffect, useState, useRef } from 'react';\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport { b } from \"./barrios.json\"\r\nimport { t } from \"./temas.json\";\r\n\r\nfunction SignUp({ setPopUpSignUp }) {\r\n\r\n  const { user, register, setRegisterEmail, setRegisterPassword, registerPassword, setRegisterName } = useContext(UserContext);\r\n\r\n  const checks = useRef();\r\n\r\n  const [barrios, setBarrios] = useState(b);\r\n\r\n  const [barrio, setBarrio] = useState();\r\n\r\n  const [topics, setTopics] = useState([]);\r\n\r\n  const history = useHistory();\r\n\r\n  const [keywords, setKeywords] = useState(t);\r\n\r\n\r\n  const handleLocation = (event) => {\r\n    const barrioX = barrios.filter(b => { return b.lugar === event });\r\n    setBarrio(barrioX[0]);\r\n    console.log(\"Información\", barrioX[0]);\r\n\r\n  }\r\n\r\n  const handleTopics = (e) => {\r\n\r\n    topics.includes(e.target.name) ? setTopics(topics.filter(t => t !== e.target.name)) : setTopics(t => [...topics, e.target.name])\r\n\r\n  }\r\n\r\n  const [isToggled, setIsToggled] = useState(false);\r\n\r\n  const onToggle = () => {\r\n\r\n    setIsToggled(!isToggled);\r\n\r\n    var arrayBarrios = isToggled ? b.filter(b => { return b.tipo === 1 }) : b.filter(b => { return b.tipo === 0 })\r\n\r\n    setBarrios(arrayBarrios);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\" onClick={() => setPopUpSignUp(false)}>\r\n      <div className=\"modal-body\" onClick={(e) => e.stopPropagation()}>\r\n        <h3>Crear Nueva Cuenta</h3>\r\n        <div>\r\n          <input\r\n            placeholder=\"Nombre Completo\"\r\n            onChange={(event) => {\r\n              setRegisterName(event.target.value);\r\n            }} />\r\n        </div>\r\n        <input\r\n          placeholder=\"Correo Electrónico...\"\r\n          onChange={(event) => {\r\n            setRegisterEmail(event.target.value);\r\n          }}\r\n        />\r\n\r\n        <input\r\n          placeholder=\"Contraseña...\"\r\n          type=\"password\"\r\n          onChange={(event) => {\r\n            setRegisterPassword(event.target.value);\r\n          }}\r\n        />\r\n        <p>{registerPassword.split('').length < 6 && registerPassword.split('').length > 1 ? \"La contraseña debe tener más de 6 caracteres\" : \"\"}</p>\r\n\r\n        <div className=\"container-toggle-switch\">\r\n          <p>Vivo en un:       <b>barrio</b></p>\r\n          <label className=\"toggle-switch\">\r\n            <input type=\"checkbox\" checked={isToggled} onChange={onToggle} />\r\n            <span className=\"switch\" />\r\n          </label>\r\n          <p><b>corregimiento</b></p>\r\n        </div>\r\n\r\n        <input ref={checks} list=\"barrios\" placeholder={!isToggled ? \"Barrio\" : \"Corregimiento\"}\r\n          onChange={(event) => {\r\n            handleLocation(event.target.value)\r\n          }} />\r\n\r\n        <datalist id=\"barrios\">\r\n          {barrios.map((e, index) => {\r\n            return <option key={index} value={e.lugar} />\r\n          })}\r\n        </datalist>\r\n        <br />\r\n        {barrio ? <div>\r\n          <h5>{`En Cali, Distrito Especial, tu ${barrio.tipo === 1 ? \"barrio\" : \"corregimiento\"} estará en la Localidad ${barrio.localidad}`}</h5>  </div >\r\n          : \"\"}\r\n\r\n        <Map localidad={barrio ? barrio.localidad : 0} />\r\n        <br />\r\n        <h4>Intereses</h4>\r\n        <div className=\"keywords\">\r\n          {keywords.map((k, index) => {\r\n            return <label id=\"ck-button\" key={index}>\r\n              <input type=\"checkbox\" id=\"btnControl\" name={k} hidden onChange={(event) => handleTopics(event)} />\r\n              <span>{k}</span>\r\n            </label>\r\n          })}\r\n        </div>\r\n\r\n        <button onClick={() => { register(barrio, topics); setPopUpSignUp(false) }}> Crear Usuario</button>\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n","export default __webpack_public_path__ + \"static/media/home.1e42912d.svg\";","export default __webpack_public_path__ + \"static/media/fractal.83b59d8f.svg\";","import React, { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport SignUp from \"./SignUp\";\r\nimport home from \"./svg/home.svg\";\r\nimport logo from \"./svg/fractal.svg\"\r\n\r\nfunction Login() {\r\n\r\n const { user, login, setLoginEmail, setLoginPassword, errorMessage } = useContext(UserContext);\r\n\r\n const history = useHistory();\r\n\r\n const [popUpSignUp, setPopUpSignUp] = useState(false)\r\n\r\n useEffect(() => {\r\n  if (user?.email) { history.push(\"/\"); setLoginEmail(); setLoginPassword(); } else {\r\n   localStorage.setItem('user', null);\r\n  }\r\n  console.log(user);\r\n }, [user])\r\n\r\n\r\n return (\r\n\r\n  <div>\r\n\r\n   <div className=\"login\">\r\n   <img className='logo' src={logo} alt=\"\" />\r\n   <div className='login-wrapper'>\r\n    <div className=\"login-info\">\r\n     <div className=\"login-info-text\">\r\n      \r\n      <h1>Transformemos la ciudad desde el barrio.</h1>\r\n      <h4>Con Fractal podrás formular y discutir los proyectos que transformarán a Cali. ¡Únete!</h4>\r\n     </div>\r\n\r\n    </div>\r\n \r\n    <div className=\"login-input\">\r\n\r\n     <input\r\n      placeholder=\"Correo Electrónico\"\r\n      onChange={(event) => {\r\n       setLoginEmail(event.target.value);\r\n      }}\r\n     />\r\n\r\n     <input\r\n      placeholder=\"Contraseña\"\r\n      type=\"password\"\r\n      onChange={(event) => {\r\n       setLoginPassword(event.target.value);\r\n      }}\r\n     />\r\n\r\n     <h5>{errorMessage ? \"Usuario o Cuenta incorrecta\" : \"\"}</h5>\r\n     <div className=\"login-buttons\">\r\n      <div onClick={() => login()}><h4>Ingresar</h4></div>\r\n      <div onClick={() => { setPopUpSignUp(true) }}><h4>Crear Cuenta</h4></div>\r\n     </div>\r\n    </div>\r\n    </div>\r\n    <img src={home} alt=\"\" />\r\n   </div>\r\n   {popUpSignUp ? <SignUp setPopUpSignUp={setPopUpSignUp} /> : \"\"}\r\n  </div>\r\n\r\n\r\n )\r\n}\r\n\r\nexport default Login\r\n","export default __webpack_public_path__ + \"static/media/logout_icon.7d8020c0.svg\";","export default __webpack_public_path__ + \"static/media/notificacion.6156ebcb.svg\";","export default __webpack_public_path__ + \"static/media/notificacion2.643be16b.svg\";","export default __webpack_public_path__ + \"static/media/notificacion_pressed.9e938c7f.svg\";","import React, { createContext, useState } from \"react\";\r\nimport { db, collectionF, onSnapshotF, addDocF, docF, setDocF, getStorageF, sRef, uploadBytesResumableF, getDownloadURLF, queryF, whereF, getDocF } from \"../firebase\";\r\n\r\nexport const InitiativeContext = createContext();\r\n\r\nconst InitiativeContextProvider = (props) => {\r\n  // Reference to the collection this context works for. \r\n\r\n  const [initiatives, setInitiatives] = useState([]);\r\n  const [initiative, setInitiative] = useState(null);\r\n\r\n  const [initiativesKeywords, setinitiativesKeywords] = useState()\r\n  const [initiativesLocalidad, setInitiativesLocalidad] = useState()\r\n  const [initiativesBarrio, setInitiativesBarrio] = useState()\r\n  const [comment, setComment] = useState(null);\r\n  const [progress, setProgress] = useState(0);\r\n  const [myInitiativeUpdates, setMyInitiativeUpdates] = useState()\r\n  const [myFollowedInitiatives, setMyFollowedInitiatives] = useState()\r\n  const [changes, setChanges] = useState(null)\r\n  const [comments, setComments] = useState()\r\n  const [pickedLugar, setPickedLugar] = useState(\"\");\r\n  const [update, setUpdate] = useState(false)\r\n  var unsubscribeInititatives = () => { };\r\n  var unsubscribeInititative = () => { };\r\n\r\n\r\n  const handleQuery = (collection, type, operator, value, feed) => {\r\n    feed = feed ? feed : false;\r\n    var q = \"\"\r\n\r\n    if (collection == \"updates\") {\r\n\r\n      switch (operator) {\r\n        case \"==\":\r\n          q = queryF(collectionF(db, \"updates\"), whereF(type, operator, value));\r\n          break;\r\n        case \"array-contains\":\r\n          q = queryF(collectionF(db, \"updates\"), whereF(type, operator, value));\r\n          break;\r\n      }\r\n\r\n    } else {\r\n      q = queryF(collectionF(db, collection), whereF(type, operator, value));\r\n    }\r\n\r\n    unsubscribeInititatives = onSnapshotF(q, (data) => {\r\n      switch (collection) {\r\n        case \"initiatives\":\r\n          var d = data.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\r\n          if (feed) {\r\n            if (operator == \"==\") {\r\n              setInitiativesLocalidad(d);\r\n              setInitiativesBarrio(d);\r\n            } else {\r\n              setinitiativesKeywords(d);\r\n            }\r\n          } else {\r\n            setInitiatives(d);\r\n          }\r\n\r\n          break;\r\n        case \"changes\":\r\n          setChanges(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n          break;\r\n        case \"comments\":\r\n          setComments(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n          break;\r\n        case \"updates\":\r\n          if (operator == \"==\") {\r\n            setMyInitiativeUpdates(data.docs.map((doc) => ({ ...doc.data(), id: doc.id, type: \"Mine\" })));\r\n          } else {\r\n            setMyFollowedInitiatives(data.docs.map((doc) => ({ ...doc.data(), id: doc.id, type: \"Follow\" })));\r\n          }\r\n          setUpdate(true)\r\n          break;\r\n      }\r\n    }, (error) => {\r\n      console.log(\"handle feed OnSnapshot error:\", error)\r\n    })\r\n  }\r\n\r\n  const handleUserUpdates = (uid, name) => {\r\n    handleQuery(\"updates\", \"followers\", \"array-contains\", { by: name, uid: uid });\r\n    handleQuery(\"updates\", \"creatorId\", \"==\", uid);\r\n  }\r\n\r\n  const handleUserFeed = (keyword, localidad, barrio) => {\r\n    console.log(keyword)\r\n\r\n    handleQuery(\"initiatives\", \"keywords\", \"array-contains\", keyword, true);\r\n\r\n    handleQuery(\"initiatives\", \"localidad_lugar\", \"==\", localidad, true);\r\n\r\n    handleQuery(\"initiatives\", \"lugar\", \"==\", barrio, true);\r\n\r\n\r\n  }\r\n\r\n  const unSubscribeFromFeed = () => {\r\n    setMyInitiativeUpdates();\r\n    setMyFollowedInitiatives(); setInitiatives(); unsubscribeInititatives();\r\n  }\r\n\r\n  const handleGetDoc = (ref, collection) => {\r\n    const docRef = docF(db, collection, ref);\r\n    unsubscribeInititative = onSnapshotF(docRef, (doc) => {\r\n      switch (collection) {\r\n        case \"initiatives\":\r\n          setInitiative(doc.data())\r\n          break;\r\n        case \"comments\":\r\n          setComment(doc.data())\r\n          break;\r\n      }\r\n    }, (error) => {\r\n      console.log(\"handle get Doc OnSnapshot error:\", error)\r\n    });\r\n  }\r\n\r\n  const unSubscribeFromDoc = () => {\r\n    setInitiative();\r\n    setComments();\r\n    setChanges();\r\n    unsubscribeInititative();\r\n  }\r\n\r\n  /*Writes initiatives, changes and top comments to database */\r\n  const handleNewDoc = async (collection, payload) => {\r\n    const docRef = await addDocF(collectionF(db, collection), payload);\r\n    if (collection != \"updates\" && collection != \"initiatives\") {\r\n      handleUpdates(payload.initiative_id, collection, payload);\r\n    }\r\n    return docRef.id;\r\n  }\r\n\r\n  const handleUpdates = async (ref, action, payload) => {\r\n    const docRef = docF(db, \"initiatives\", ref);\r\n    const docSnap = await getDocF(docRef);\r\n    if (docSnap.exists()) {\r\n      const update = {\r\n        action: handleTypeUpdate(action),\r\n        followers: docSnap.data().followers,\r\n        creator: docSnap.data().creator,\r\n        initiativeName: docSnap.data().name,\r\n        initiative_id: ref,\r\n        creatorId: docSnap.data().userId,\r\n        createdAt: new Date(),\r\n        ...handleUpdateContent(action, payload)\r\n      }\r\n      console.log(\"update\", update)\r\n      handleNewDoc(\"updates\", update)\r\n    } else {\r\n      console.log(\"No such document!\");\r\n    }\r\n  }\r\n\r\n  const handleTypeUpdate = (action) => {\r\n    var a = \"\"\r\n    switch (action) {\r\n      case \"comments\":\r\n        a = \"comentario\"\r\n        break;\r\n      case \"initiative\":\r\n        a = \"iniciativa\"\r\n        break;\r\n\r\n      case \"changes\":\r\n        a = \"anuncio\"\r\n        break;\r\n\r\n      case \"like\":\r\n        a = \"seguidor\"\r\n        break;\r\n\r\n      case \"reply\":\r\n        a = \"réplica\"\r\n        break;\r\n    }\r\n\r\n    return a;\r\n  }\r\n\r\n  const handleUpdateContent = (action, content) => {\r\n    var update = \"\"\r\n    switch (action) {\r\n      case \"comments\":\r\n      case \"initiatives\":\r\n      case \"changes\":\r\n        update = { content: content.content, by: content.creator, by_id: content.userId }\r\n        break;\r\n      case \"reply\":\r\n        update = { content: content.content, by: content.by, by_id: content.by_id }\r\n        break;\r\n      case \"like\":\r\n        update = { content: action, by: content.by, by_id: content.uid }\r\n        break;\r\n    }\r\n    return update;\r\n  }\r\n\r\n  /* Writes likes and replies to db  */\r\n  const setLikes = async (id, uid, oldArray) => {\r\n    var newArray = [];\r\n    if (oldArray.filter((e) => { return e.uid === uid.uid; }).length > 0) {\r\n      newArray = oldArray.filter(oi => { return oi.uid !== uid.uid })\r\n    } else {\r\n      newArray = [...oldArray, uid]\r\n    }\r\n\r\n    await setDocF(docF(db, \"initiatives\", id), { followers: newArray }, { merge: true });\r\n\r\n    if (!oldArray.filter((e) => { return e.uid === uid.uid; }).length > 0) {\r\n      handleUpdates(id, \"like\", uid);\r\n    }\r\n  }\r\n\r\n  const setReplies = async (commentId, initiativeId, content, oldArray) => {\r\n    var newArray = [];\r\n    newArray = [...oldArray, content]\r\n    await setDocF(docF(db, \"comments\", commentId), { replies: newArray }, { merge: true });\r\n    handleUpdates(initiativeId, \"reply\", content);\r\n  }\r\n\r\n  const uploadImage = (imageToUpload, name) => {\r\n\r\n    const storage = getStorageF();\r\n\r\n    const storageRef = sRef(storage, \"Images/\" + name);\r\n\r\n    const uploadTask = uploadBytesResumableF(storageRef, imageToUpload, { contentType: \"png\" });\r\n\r\n    return new Promise((resolve, reject) => {\r\n      uploadTask.on('state_changed', (snap) => {\r\n        setProgress(Math.round((snap.bytesTransferred / snap.totalBytes) * 100));\r\n      }, (error) => { reject(error); },\r\n        () => getDownloadURLF(uploadTask.snapshot.ref).then((downloadURL) => { setProgress(0); resolve(downloadURL); })\r\n      )\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <InitiativeContext.Provider value={{ update, initiativesKeywords, handleUserFeed, setUpdate, setLikes, handleUserUpdates, initiativesLocalidad, initiativesBarrio, myFollowedInitiatives, myInitiativeUpdates, initiatives, changes, initiative, comments, comment, progress, handleUpdates, setPickedLugar, setReplies, uploadImage, handleQuery, unSubscribeFromFeed, handleNewDoc, handleGetDoc, unSubscribeFromDoc }}>\r\n      {props.children}\r\n    </InitiativeContext.Provider>\r\n  )\r\n\r\n}\r\n\r\nexport default InitiativeContextProvider\r\n","import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const SettingsContext = createContext();\r\n\r\nfunction SettingsContextProvider(props) {\r\n\r\n const [modalCreate, setModalCreate] = useState(false)\r\n\r\n const toggleModalCreate = () => {\r\n  setModalCreate(!modalCreate);\r\n }\r\n const [barUpdates, setBarUpdates] = useState(false)\r\n\r\n const toggleBarUpdates = (condition) => {\r\n  if (condition == \"cerrar\") {\r\n   setBarUpdates(false);\r\n  } else {\r\n   setBarUpdates(!barUpdates);\r\n  }\r\n\r\n }\r\n\r\n return (\r\n  <SettingsContext.Provider value={{ modalCreate, toggleModalCreate, barUpdates, toggleBarUpdates }}>\r\n   {props.children}\r\n  </SettingsContext.Provider>\r\n )\r\n}\r\n\r\nexport default SettingsContextProvider\r\n","export default __webpack_public_path__ + \"static/media/my_anuncio.d03ad2a0.svg\";","export default __webpack_public_path__ + \"static/media/follow_anuncio.e0c27896.svg\";","import React from 'react'\r\nimport my_anuncio from \"./svg/my_anuncio.svg\";\r\nimport follow_anuncio from \"./svg/follow_anuncio.svg\";\r\nimport { Link } from 'react-router-dom'\r\nfunction Notification({ updates }) {\r\n  return (\r\n    updates.length > 0 ? <div> {updates.map((a, index) => {\r\n      return <div className=\"notification\" key={index}>\r\n        <img src={a.type == \"Mine\" ? my_anuncio : follow_anuncio} alt=\"\" />\r\n        <div>\r\n          <div className=\"notification-content\">\r\n\r\n\r\n            <h5>\r\n\r\n              <Link to={`/iniciativas/${a.initiative_id}/resumen`}>\r\n                {`Nuevo ${a.action}`}\r\n              </Link>\r\n\r\n\r\n              {`en ${a.type == \"Mine\" ? \"tu proyecto\" : \"el proyecto\"}`}\r\n\r\n              <Link to={`/iniciativas/${a.initiative_id}/resumen`}>{a.initiativeName}</Link>\r\n\r\n              {`(${a.createdAt.toDate().toLocaleString()})`}</h5>\r\n          </div>\r\n\r\n          <div className=\"notification-content\">\r\n            <Link to={`/usuario/${a.by_id}`}>{a.by}</Link>\r\n            <p>{`  ${a.content == \"seguidor\" ? \"\" :  a.content}`}</p>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    })}</div>\r\n\r\n\r\n      : \"Todavía no hay notificaciones. ¡Busca y Sigue un Proyecto!\")\r\n}\r\n\r\nexport default Notification\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport fractal from './svg/fractal.svg';\r\nimport logout_icon from './svg/logout_icon.svg';\r\nimport notification from './svg/notificacion.svg'\r\nimport notification2 from './svg/notificacion2.svg'\r\n\r\nimport notificacion_pressed from './svg/notificacion_pressed.svg'\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { SettingsContext } from \"./providers/SettingsContext\";\r\nimport Notification from \"./Notification\";\r\n\r\nfunction Barranav() {\r\n\r\n    const { user, logout } = useContext(UserContext);\r\n    const { barUpdates, toggleBarUpdates } = useContext(SettingsContext);\r\n    const history = useHistory();\r\n    const [updates, setUpdates] = useState([])\r\n\r\n    const { update, setUpdate, myInitiativeUpdates, myFollowedInitiatives, handleUserUpdates } = useContext(InitiativeContext)\r\n\r\n    useEffect(() => {\r\n\r\n        if (user && !myInitiativeUpdates || !myFollowedInitiatives) {\r\n            handleUserUpdates(user?.uid, user?.displayName);\r\n            setUpdate(false);\r\n        } else {\r\n            var a = myInitiativeUpdates ? myInitiativeUpdates : [];\r\n            var b = myFollowedInitiatives ? myFollowedInitiatives : [];\r\n            var newArray = [...a, ...b]\r\n            newArray = newArray.filter(u => u.by_id != user.uid).sort((a, b) => { return b.createdAt - a.createdAt })\r\n            if (newArray.length == updates.length) {\r\n                setUpdate(false)\r\n            }\r\n            setUpdates(newArray)\r\n        }\r\n\r\n\r\n\r\n    }, [user, update])\r\n\r\n\r\n    return (\r\n        <div >\r\n            <nav className=\"navbar\">\r\n                <NavLink to=\"/\"><img className=\"logo\" src={fractal} alt=\"\" /></NavLink>\r\n                <ul>\r\n                    <li onClick={() => { toggleBarUpdates(\"cerrar\"); }}><NavLink activeClassName='active' exact={true} to=\"/\">Inicio</NavLink></li>\r\n                    <li onClick={() => { toggleBarUpdates(\"cerrar\"); }}><NavLink to=\"/iniciativas\" activeClassName='active'>Iniciativas</NavLink></li>\r\n                    <span>  </span>\r\n                    |\r\n                    <li onClick={() => { toggleBarUpdates(\"cerrar\"); }}><NavLink activeClassName='active' exact to={`/usuario/${user.uid}`}>{user?.displayName}</NavLink></li>\r\n                    <li><img onClick={() => { toggleBarUpdates(); setUpdate(false) }} src={barUpdates ? notificacion_pressed : update ? notification2 : notification} alt=\"\" /></li>\r\n                    <li><button onClick={logout}><img src={logout_icon} alt=\"\" /></button></li>\r\n                </ul>\r\n\r\n            </nav> {\r\n                barUpdates ? <div className={`panel-wrap ${barUpdates ? \"checked\" : \"\"}`} onClick={() => { toggleBarUpdates(\"cerrar\"); }}>\r\n                    <div className=\"panel\">\r\n\r\n                        <div onClick={toggleBarUpdates}></div>\r\n                        {<Notification updates={updates} />}\r\n\r\n                    </div></div> : \"\"\r\n            }\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\nexport default Barranav;","import React, { useContext, useEffect } from 'react';\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Card() {\r\n\r\n    const { initiatives, setLikes } = useContext(InitiativeContext)\r\n    const { user } = useContext(UserContext)\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('user') === \"null\" || !localStorage.getItem('user')) { history.push(\"/login\") }\r\n\r\n    }, [localStorage.getItem('user')])\r\n\r\n    var options = { weekday: \"long\", month: \"long\", day: \"numeric\" };\r\n\r\n    var optionsTime = { hour12: \"false\" };\r\n\r\n    const like = (array) => {\r\n        let result = array.map(a => a.uid);\r\n        return array.length > 0 ? result.includes(user.uid) : false;\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"initiative\">\r\n            <div className=\"initiative-sub-one\">\r\n                {initiatives\r\n                    ?\r\n                    <div className=\"initiative-sub-two\">{initiatives.length > 0 ? <div className=\"initiative-container\">{initiatives.sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n                        return < Link to={`iniciativas/${i.id}/resumen`\r\n                        } key={i.id}>\r\n                            <div className=\"container\">\r\n                                <div className=\"container-top\">\r\n                                    \r\n                                    <div className=\"title-button\">\r\n                                        <h4>{i.name}</h4>\r\n                                        {user ? user.uid !== i.userId ? <button onClick={(e) => { e.preventDefault(); setLikes(i.id, { by: user?.displayName, uid: user.uid }, i.followers) }} className={like(i.followers) ? \"like\" : \"unlike\"}>\r\n                                            {like(i.followers) ? \"Siguiendo\" : \"Seguir\"}\r\n                                        </button> : \"\" : \"\"}\r\n                                    </div>\r\n\r\n                                    <div className=\"container-author-time\">\r\n\r\n                                        <h5>{\"Por \" + i.creator} | </h5>\r\n                                        <h5>{i.createdAt ? i.createdAt.toDate().toLocaleDateString(\"es-ES\", options) + \" \" + i.createdAt.toDate().toLocaleTimeString(\"es-ES\", optionsTime) : \"\"}</h5>\r\n\r\n                                    </div>\r\n                                    <div className=\"container-location\">\r\n                                        <h5>{`Localidad ${i.localidad_lugar} | ${i.lugar} | ${i.keywords.join(\",\")}`}</h5>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"container-bot\">\r\n                                    <div className=\"container-img\">\r\n                                        {i.img.map((im, index) => { return <img key={index} src={im} alt=\"\" /> })}\r\n                                    </div>\r\n                                    <div className=\"container-description\"><p>{i.description}</p></div>\r\n\r\n                                    <hr />\r\n\r\n                                    <Link to={`iniciativas/${i.id}/resumen`}> Ver Más...</Link>\r\n                                </div>\r\n                            </div>\r\n                        </Link >\r\n                    })}</div> : \"\"}</div>\r\n\r\n                    :\r\n                    <h1>Loading...</h1>\r\n                }\r\n            </div>\r\n        </div >\r\n    )\r\n\r\n}\r\n\r\nexport default Card;","import React, { useRef, useState, useContext } from 'react'\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { serverTimestampF } from \"./firebase\";\r\nimport { t } from \"./temas.json\";\r\n\r\nfunction IniciativeModalCreate({ toggleModalCreate }) {\r\n\r\n  const [keywords, setKeywords] = useState(t)\r\n\r\n  const [file, setFile] = useState([]);\r\n  const [sent, setSent] = useState();\r\n\r\n  const { handleNewDoc, uploadImage, progress } = useContext(InitiativeContext)\r\n\r\n  const { user, userInfo } = useContext(UserContext)\r\n\r\n  const formEl = useRef();\r\n\r\n  const handleNew = async (e) => {\r\n    console.log(handleSubmit(e));\r\n    const referencia = await handleNewDoc(\"initiatives\", handleSubmit(e));\r\n    console.log(\"referencia es:\", referencia);\r\n    setSent(true);\r\n    setTimeout(() => {\r\n      toggleModalCreate();\r\n    }, 5000);\r\n  }\r\n\r\n  const handleImages = async (e) => {\r\n    var imageUrl = \"\";\r\n    try {\r\n      imageUrl = await uploadImage(e.target.files[0], e.target.files[0].name);\r\n      console.log(\"Promise Image\", imageUrl)\r\n    } catch (error) { console.log(\"Promise Image\", error) }\r\n    setFile((oldFile) => [...oldFile, imageUrl]);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    var kArray = []\r\n    const formInputs = [...formEl.current.elements].map(e => {\r\n      if (e.hasOwnProperty('checked')) {\r\n        if (e.checked) {\r\n          kArray.push(e.name)\r\n        }\r\n      }\r\n      return !e.hasOwnProperty('checked') ? { [e.name]: e.value } : {}\r\n    }).filter((value) => Object.keys(value).length !== 0).filter((value) => Object.keys(value)[0] !== \"\");\r\n\r\n    const newSubmitted = formInputs.reduce((acc, input) => {\r\n      return {\r\n        ...acc, ...input, keywords: kArray, userId: user.uid, creator: user.displayName, lugar: userInfo.lugar, followers: [],\r\n        id_lugar: userInfo.id_lugar,\r\n        tipo_lugar: userInfo.tipo_lugar,\r\n        localidad_lugar: userInfo.localidad_lugar\r\n      };\r\n    }, 0);\r\n\r\n    return { ...newSubmitted, createdAt: serverTimestampF(), img: file }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\" onClick={toggleModalCreate}>\r\n      <div className=\"modal-body\" onClick={(e) => e.stopPropagation()}>\r\n        \r\n        {!sent ?\r\n          <div className=\"modal-form\">\r\n            <form ref={formEl} onSubmit={(e) => handleNew(e)} id=\"confirmationForm\">\r\n              <div className=\"titleclose\">\r\n              <h4 htmlFor=\"name-input\"> Titulo del Proyecto</h4> <div onClick={toggleModalCreate} className=\"clickable\"><button className=\"close\">x</button> </div>\r\n              </div>\r\n              <input id=\"name-input\" name=\"name\" type=\"text\" placeholder=\"Titulo de tu proyecto\" />\r\n              <h4 htmlFor=\"team-input\">Descripción</h4>\r\n              <textarea name=\"description\" type=\"text\" cols=\"40\" rows=\"5\" />\r\n              <h4>Añadir Imágenes</h4>\r\n              <div className=\"modal-upload-images\" >\r\n                <div className=\"images\">\r\n                  <input type=\"file\" id=\"file\" name=\"img\" accept=\"image/*\" onChange={(e) => handleImages(e)} />\r\n\r\n                  <label htmlFor=\"file\"> <progress id=\"file\" value={progress} max=\"100\" style={progress === 0 ? {} : { background: \"#FF8D97\" }} />{progress === 0 ? <p>+</p> : <p>{progress + \"%\"}</p>}</label>\r\n\r\n                  {file\r\n                    ? file.map((f, index) => {\r\n                      return <div className=\"image-added\" key={index}>\r\n                        <p>Eliminar</p>\r\n                        <img src={f} alt=\"\" />\r\n\r\n                      </div>\r\n                    })\r\n                    : \"\"}\r\n\r\n                </div>\r\n              </div>\r\n              <h4>Palabras Clave</h4>\r\n              <div className=\"keywords\">\r\n                {keywords.map((k, index) => {\r\n                  return <label id=\"ck-button\" key={index}>\r\n                    <input type=\"checkbox\" id=\"btnControl\" name={k} hidden />\r\n                    <span>{k}</span>\r\n                  </label>\r\n                })}\r\n              </div>\r\n\r\n              <button type=\"submit\">Añadir</button>\r\n            </form>\r\n          </div> : \"Iniciativa Enviada\"}\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default IniciativeModalCreate\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport { t } from \"./temas.json\";\r\nimport { b } from \"./barrios.json\"\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\n\r\nfunction Filtros() {\r\n\r\n  const [barrios, setBarrios] = useState(b.sort((a, b) => a.lugar.localeCompare(b.lugar)));\r\n\r\n  const [keywords, setKeywords] = useState(t);\r\n\r\n  const { unSubscribeFromFeed, handleQuery } = useContext(InitiativeContext);\r\n\r\n  const { user, userInfo } = useContext(UserContext);\r\n\r\n  const { initiatives } = useContext(InitiativeContext)\r\n\r\n  const [selected, setSelected] = useState();\r\n\r\n  useEffect(() => {\r\n    if (user && userInfo) {\r\n      setSelected({ tipo: \"Barrio\", texto: \"\", valor: userInfo.lugar });\r\n      handleBarrios(userInfo.lugar);\r\n    }\r\n    return () => { unSubscribeFromFeed(); setSelected() };\r\n  }, [user, userInfo]);\r\n\r\n\r\n  const handleBarrios = (event) => {\r\n    setSelected({ tipo: \"Barrio\", texto: \"en el barrio\", valor: event });\r\n    handleQuery(\"initiatives\", \"lugar\", \"==\", event);\r\n  }\r\n\r\n  const handleLocalidades = (event) => {\r\n    setSelected({ tipo: \"Localidad\", texto: \"en la localidad\", valor: event });\r\n    handleQuery(\"initiatives\", \"localidad_lugar\", \"==\", parseInt(event));\r\n  }\r\n\r\n  const handleTemas = (event) => {\r\n    setSelected({ tipo: \"Temática\", texto: \"sobre\", valor: event });\r\n    handleQuery(\"initiatives\", \"keywords\", \"array-contains\", event);\r\n  }\r\n\r\n\r\n  return (\r\n    userInfo && selected && initiatives ?\r\n      <div className=\"top-initiative-subnavbar\">\r\n        <div className=\"initiative-subnavbar\">\r\n          <div className=\"initiative-subnavbar-breadcrumb\"><h4>{`Iniciativas  ${selected ? `> ${selected.tipo} > ${selected.valor}` : \"\"}`} </h4></div>\r\n\r\n          <div className=\"initiative-subnavbar-filters\">\r\n\r\n\r\n            <select value={selected ? selected.tipo === \"Localidad\" ? selected.valor : \"none\" : \"\"} refplaceholder=\"Localidad\" onChange={(event) => {\r\n              handleLocalidades(event.target.value)\r\n            }}>\r\n              <option value=\"none\" selected disabled hidden>Localidad</option>\r\n              <option value=\"1\" >Localidad 1</option>\r\n              <option value=\"2\" >Localidad 2</option>\r\n              <option value=\"3\" >Localidad 3</option>\r\n              <option value=\"4\" >Localidad 4</option>\r\n              <option value=\"5\" >Localidad 5</option>\r\n              <option value=\"6\" >Localidad 6</option>\r\n            </select>\r\n\r\n\r\n            <select value={selected ? selected.tipo === \"Barrio\" ? selected.valor : \"none\" : \"\"} placeholder=\"Barrio\" onChange={(event) => {\r\n              handleBarrios(event.target.value)\r\n            }} >\r\n              <option value=\"none\" selected disabled hidden>Barrio</option>\r\n              {barrios.map((e, index) => {\r\n                return <option key={index} value={e.lugar} >{e.lugar}</option>\r\n              })} </select>\r\n\r\n\r\n            <select placeholder=\"Tema\" value={selected ? selected.tipo === \"Temática\" ? selected.valor : \"none\" : \"\"} onChange={(event) => {\r\n              handleTemas(event.target.value)\r\n            }} >\r\n              <option value=\"none\" selected disabled hidden>Tema</option>\r\n              {keywords.map((e, index) => {\r\n                return <option key={index} value={e} >{e}</option>\r\n              })} </select>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        {initiatives.length === 0 && selected ? <h2 className=\"notfound\">{`Todavía no hay iniciativas  ${selected.texto} ${selected.valor}`}</h2> : \"\"}</div>\r\n\r\n      : <div className=\"modal loader\"><div id=\"loading\"></div></div>)\r\n}\r\n\r\nexport default Filtros\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { Link } from \"react-router-dom\";\r\nfunction Inicio() {\r\n\r\n  const { user, userInfo } = useContext(UserContext)\r\n  const { unSubscribeFromFeed, handleUserFeed, initiativesLocalidad, initiativesBarrio, initiativesKeywords, setLikes } = useContext(InitiativeContext);\r\n  const [keywordsUser, setKeywordsUser] = useState([])\r\n\r\n\r\n  var options = { weekday: \"long\", month: \"long\", day: \"numeric\" };\r\n\r\n  var optionsTime = { hour12: \"false\" };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (user && userInfo) {\r\n      handleUserFeed(userInfo.intereses[0], userInfo.localidad_lugar, userInfo.lugar)\r\n      console.log(\"interestInitiatives\", initiativesKeywords)\r\n      setKeywordsUser(userInfo.intereses)\r\n    }\r\n    return () => unSubscribeFromFeed();\r\n  }, [user, userInfo])\r\n\r\n\r\n  const like = (array) => {\r\n    let result = array.map(a => a.uid);\r\n    return array.length > 0 ? result.includes(user.uid) : false;\r\n  }\r\n\r\n  return (initiativesKeywords && user && initiativesLocalidad && initiativesBarrio ?\r\n    <div className=\"feed\">\r\n\r\n      {user ?\r\n        <div className=\"greeting\"><h1>{user.displayName ? `Hola, ${user.displayName.split(\" \").length >= 4 ? user.displayName.split(\" \").slice(0, 3).join(\" \") : user.displayName.split(\" \")[0]}` : \"\"}</h1>\r\n          <h2>creemos que te podrían interesar las siguientes iniciativas:</h2></div>\r\n        : <div className=\"modal loader\"><div id=\"loading\"></div></div>}\r\n\r\n      {initiativesKeywords.filter(u => u.userId != user.uid).length > 0 ?\r\n\r\n      <h3>{userInfo ? keywordsUser[0] : \"\"}</h3> : <div> <h3> {userInfo ? userInfo.intereses[0] : \"\"}</h3><p>{`Todavía nadie ha publicado iniciativas en la categoría ${userInfo.intereses[0]}. ¡Te invitamos a traer a tus amigos y generar cambio!`}</p></div>}\r\n      \r\n      {initiativesKeywords\r\n        ?\r\n        <div className=\"initiative-feed\">{initiativesKeywords.length > 0 ? <div className=\"initiative-feed-container\">{initiativesKeywords.filter(u => u.userId != user.uid).sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n          return < Link to={`iniciativas/${i.id}/resumen`\r\n          } key={i.id}>\r\n            <div className=\"container\">\r\n              <div className=\"container-top\">\r\n               \r\n                <div className=\"title-button\">\r\n                  <h4>{i.name}</h4>\r\n                  {user ? user.uid !== i.userId ? <button onClick={(e) => { e.preventDefault(); setLikes(i.id, { by: user?.displayName, uid: user.uid }, i.followers) }} className={like(i.followers) ? \"like\" : \"unlike\"}>\r\n                    {like(i.followers) ? \"Siguiendo\" : \"Seguir\"}\r\n                  </button> : \"\" : \"\"}\r\n                </div>\r\n\r\n                <div className=\"container-author-time\">\r\n                  <h5>{\"Por \" + i.creator} | </h5>\r\n                  <h5>{i.createdAt ? i.createdAt.toDate().toLocaleDateString(\"es-ES\", options) + \" \" + i.createdAt.toDate().toLocaleTimeString(\"es-ES\", optionsTime) : \"\"}</h5>\r\n                </div>\r\n\r\n                <div className=\"container-location\">\r\n                  <h5>{`Localidad ${i.localidad_lugar} | ${i.lugar} | ${i.keywords.join(\",\")}`}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"container-bot\">\r\n                <div className=\"container-img\">\r\n                  {i.img.map((im, index) => { return <img key={index} src={im} alt=\"\" /> })}\r\n                </div>\r\n                <div className=\"container-description\"><p>{i.description}</p></div>\r\n                <hr />\r\n                <Link to={`iniciativas/${i.id}/resumen`}> Ver Más...</Link>\r\n              </div>\r\n            </div>\r\n          </Link >\r\n        })}</div> : \"\"}</div>\r\n        :\r\n        <h5>Loading...</h5>\r\n      }\r\n\r\n{initiativesBarrio.filter(u => u.userId != user.uid).length > 0 ?\r\n        <h3>{userInfo ? userInfo.lugar : \"\"}</h3> :\r\n        <div> <h3>Tu barrio</h3><p>{`Aún no hay iniciativas en el barrio ${userInfo ? userInfo.lugar : \"\"}. ¡Invita tus vecinos a crear una!`}</p></div>}\r\n\r\n\r\n      {initiativesBarrio\r\n        ?\r\n        <div className=\"initiative-feed\">{initiativesBarrio.length > 0 ? <div className=\"initiative-feed-container\">{initiativesBarrio.filter(u => u.userId != user.uid).sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n          return < Link to={`iniciativas/${i.id}/resumen`\r\n          } key={i.id}>\r\n            <div className=\"container\">\r\n              <div className=\"container-top\">\r\n                \r\n                <div className=\"title-button\">\r\n                  <h4>{i.name}</h4>\r\n                  {user ? user.uid !== i.userId ? <button onClick={(e) => { e.preventDefault(); setLikes(i.id, { by: user?.displayName, uid: user.uid }, i.followers) }} className={like(i.followers) ? \"like\" : \"unlike\"}>\r\n                    {like(i.followers) ? \"Siguiendo\" : \"Seguir\"}\r\n                  </button> : \"\" : \"\"}\r\n                </div>\r\n\r\n                <div className=\"container-author-time\">\r\n                  <h5>{\"Por \" + i.creator} | </h5>\r\n                  <h5>{i.createdAt ? i.createdAt.toDate().toLocaleDateString(\"es-ES\", options) + \" \" + i.createdAt.toDate().toLocaleTimeString(\"es-ES\", optionsTime) : \"\"}</h5>\r\n                </div>\r\n\r\n                <div className=\"container-location\">\r\n                  <h5>{`Localidad ${i.localidad_lugar} | ${i.lugar} | ${i.keywords.join(\",\")}`}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"container-bot\">\r\n                <div className=\"container-img\">\r\n                  {i.img.map((im, index) => { return <img key={index} src={im} alt=\"\" /> })}\r\n                </div>\r\n                <div className=\"container-description\"><p>{i.description}</p></div>\r\n                <hr />\r\n                <Link to={`iniciativas/${i.id}/resumen`}> Ver Más...</Link>\r\n              </div>\r\n            </div>\r\n          </Link >\r\n        })}</div> : \"\"}</div>\r\n        :\r\n        <h5>Loading...</h5>\r\n      }\r\n\r\n{initiativesLocalidad.filter(u => u.userId != user.uid).length > 0 ?\r\n        <h3>{userInfo ? `Localidad ${userInfo.localidad_lugar}` : \"\"}</h3> : <div> <h3> Tu localidad</h3><p>{`Aún no hay iniciativas en la Localidad ${userInfo.localidad_lugar}. ¡Qué esperas para que tu comunidad cree una iniciativa de cambio!`}</p></div>}\r\n\r\n      {initiativesLocalidad\r\n        ?\r\n        <div className=\"initiative-feed\">{initiativesLocalidad.length > 0 ? <div className=\"initiative-feed-container\">{initiativesLocalidad.filter(u => u.userId != user.uid).sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n          return < Link to={`iniciativas/${i.id}/resumen`\r\n          } key={i.id}>\r\n            <div className=\"container\">\r\n              <div className=\"container-top\">\r\n                <div className=\"title-button\">\r\n                  <h4>{i.name}</h4>\r\n                  {user ? user.uid !== i.userId ? <button onClick={(e) => { e.preventDefault(); setLikes(i.id, { by: user?.displayName, uid: user.uid }, i.followers) }} className={like(i.followers) ? \"like\" : \"unlike\"}>\r\n                    {like(i.followers) ? \"Siguiendo\" : \"Seguir\"}\r\n                  </button> : \"\" : \"\"}\r\n                </div>\r\n\r\n                <div className=\"container-author-time\">\r\n                  <h5>{\"Por \" + i.creator} | </h5>\r\n                  <h5>{i.createdAt ? i.createdAt.toDate().toLocaleDateString(\"es-ES\", options) + \" \" + i.createdAt.toDate().toLocaleTimeString(\"es-ES\", optionsTime) : \"\"}</h5>\r\n                </div>\r\n\r\n                <div className=\"container-location\">\r\n                  <h5>{`Localidad ${i.localidad_lugar} | ${i.lugar} | ${i.keywords.join(\",\")}`}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"container-bot\">\r\n                <div className=\"container-img\">\r\n                  {i.img.map((im, index) => { return <img key={index} src={im} alt=\"\" /> })}\r\n                </div>\r\n                <div className=\"container-description\"><p>{i.description}</p></div>\r\n                <hr />\r\n                <Link to={`iniciativas/${i.id}/resumen`}> Ver Más...</Link>\r\n              </div>\r\n            </div>\r\n          </Link >\r\n        })}</div> : \"\"}</div>\r\n        :\r\n        <h5>Loading...</h5>\r\n      }\r\n    </div>\r\n    : <div className=\"modal loader\"><div id=\"loading\"></div></div>)\r\n}\r\n\r\nexport default Inicio\r\n","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\nimport { UserContext } from \"../providers/UserContext\";\r\nimport { serverTimestampF } from \"../firebase\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nfunction Discussion({ user, id }) {\r\n\r\n  const { handleQuery, unSubscribeFromFeed } = useContext(InitiativeContext)\r\n\r\n\r\n  const history = useHistory();\r\n  const formEl = useRef();\r\n  const [file, setFile] = useState();\r\n\r\n  const { comments, handleNewDoc, uploadImage, progress } = useContext(InitiativeContext)\r\n  useEffect(() => {\r\n    console.log(user)\r\n    if (user) {\r\n      handleQuery(\"comments\", \"initiative_id\", \"==\", id)\r\n      console.log(comments)\r\n    }\r\n    return () => { unSubscribeFromFeed() };\r\n  }, []);\r\n\r\n\r\n  const handleNew = async (e) => {\r\n    console.log(handleSubmit(e));\r\n    const referencia = await handleNewDoc(\"comments\", handleSubmit(e));\r\n    formEl.current.reset()\r\n    console.log(\"referencia es:\", referencia);\r\n\r\n  }\r\n\r\n  const handleImages = async (e) => {\r\n    var imageUrl = \"\";\r\n    try {\r\n      imageUrl = await uploadImage(e.target.files[0], e.target.files[0].name);\r\n    } catch (error) {\r\n      console.log(\"Promise Image\", error)\r\n    }\r\n    setFile(imageUrl);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n\r\n    event.preventDefault();\r\n\r\n    setFile();\r\n    const formInputs = [...formEl.current.elements].map(e => {\r\n      return { [e.name]: e.value }\r\n    }).filter((value) => Object.keys(value).length !== 0).filter((value) => Object.keys(value)[0] !== \"\");\r\n\r\n    const newSubmitted = formInputs.reduce((acc, input) => {\r\n      return {\r\n        ...acc, ...input, userId: user.uid, initiative_id: id, creator: user.displayName, replies: []\r\n      };\r\n    }, 0);\r\n\r\n    return { ...newSubmitted, createdAt: serverTimestampF(), img: file ? file : \"\" }\r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"initiative discussion\">\r\n\r\n      {comments ? <div className=\"initiative-sub-two\">\r\n\r\n        <h4>{`Comentarios (${comments.length})`}</h4>\r\n\r\n        <form ref={formEl} onSubmit={(e) => handleNew(e)} id=\"confirmationForm\">\r\n\r\n          {file ? <img src={file} alt=\"\" /> : \"\"}\r\n\r\n          <input id=\"name-input\" name=\"content\" type=\"text\" placeholder=\"¿Qué piensas?\" />\r\n\r\n          <div className=\"images\">\r\n            <input type=\"file\" id=\"file\" name=\"img\" accept=\"image/*\" onChange={(e) => handleImages(e)} />\r\n            <label htmlFor=\"file\">\r\n              {progress === 0 ? file ? \"📸\" : <p>📸</p> : <p>{progress + \"%\"}</p>}</label>\r\n          </div>\r\n\r\n          <button type=\"submit\"></button>\r\n        </form>\r\n\r\n\r\n        {\r\n          comments.length > 0 ?\r\n            <div className=\"initiative-container\">\r\n              {comments.sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n                return <NavLink activeClassName='active' exact={true} to={`discusion/${i.id}`} key={i.id} className=\"Comentario\">\r\n                  <h3>{i.creator}</h3>\r\n                  <p>{i.createdAt ? i.createdAt.toDate().toLocaleString() : \"\"}</p>\r\n                  {i.img ? <img src={i.img} alt=\"\" /> : \"\"}\r\n                  {i.content}\r\n\r\n                </NavLink>\r\n\r\n              })\r\n              }</div>\r\n            : \"Aún no hay comentarios para esta iniciativa.\"\r\n        }</div> : \"\"}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Discussion\r\n","import React, { useContext } from 'react'\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\nimport Discussion from \"./Discussion\";\r\nfunction Summary({ initiative, user, id }) {\r\n\r\n  const { setLikes } = useContext(InitiativeContext)\r\n\r\n  const like = (array) => {\r\n    let result = array.map(a => a.uid);\r\n    return array.length > 0 ? result.includes(user.uid) : false;\r\n  }\r\n\r\n  return (\r\n    initiative ?\r\n      <div className=\"top-initiative-parent\">\r\n\r\n        <div className=\"initiative-name-follow\">\r\n          <h2>{initiative.name}</h2>\r\n\r\n          {user ? user.uid !== initiative.userId ?\r\n            <button onClick={(e) => { setLikes(id, { by: user?.displayName, uid: user.uid }, initiative.followers) }} className={like(initiative.followers) ? \"like\" : \"unlike\"}>{like(initiative.followers) ? \"Siguiendo\" : \"Seguir\"}</button> : \"\" : \"\"}\r\n        </div>\r\n\r\n        <div className=\"info-initiative\">\r\n\r\n          <div className=\"info-initiative-creator\"><h5>{\"Por \" + initiative.creator} |</h5>\r\n            <h5>{\"Temas: \" + initiative.keywords.join(\", \")}</h5>\r\n          </div>\r\n\r\n          <div className=\"images-iniciativa\">\r\n            {initiative.img ?\r\n              initiative.img.map((i, index) => {\r\n                return <img key={index} src={i} alt=\"\" />\r\n              }) : \"\"}\r\n\r\n            {initiative.img.length > 0 && initiative.img.length < 2 ?\r\n              <div>  <img src=\"https://wallpaperaccess.com/full/1285952.jpg\" alt=\"\" />\r\n                <img src=\"https://wallpaperaccess.com/full/1285952.jpg\" alt=\"\" /></div> : \"\"}\r\n\r\n            {initiative.img.length > 1 ?\r\n              <img src=\"https://wallpaperaccess.com/full/1285952.jpg\" alt=\"\" />\r\n              : \"\"}\r\n\r\n\r\n          </div >\r\n          <br />\r\n          <h4>{initiative.followers.length === 0 ? \"Sé la primera persona en apoyar esta iniciativa\" : `${initiative.followers.length} ${initiative.followers.length > 1 ? \"personas apoyan \" : \"persona apoya \"} este proyecto.`}</h4>\r\n          <h3>{initiative.description}</h3>\r\n\r\n        </div>\r\n        <hr />\r\n        <Discussion user={user} id={id} />\r\n      </div > : \"\"\r\n\r\n  )\r\n}\r\n\r\nexport default Summary\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\nfunction Change({ user, id }) {\r\n\r\n  const { changes, handleQuery, unSubscribeFromFeed } = useContext(InitiativeContext)\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      handleQuery(\"changes\", \"initiative_id\", \"==\", id)\r\n      console.log(changes)\r\n    }\r\n    return () => { unSubscribeFromFeed() };\r\n  }, []);\r\n\r\n  return (\r\n\r\n    <div className=\"initiative initiative-change\">\r\n      {changes ? <div className=\"initiative-sub-two\">{\r\n        changes.length > 0 ?\r\n          <div className=\"initiative-container\">{\r\n            changes.sort((a, b) => { return b.createdAt - a.createdAt }).map(i => {\r\n              return <div className=\"anuncio\">\r\n                {i.img ? <img src={i.img} alt=\"\" /> : \"\"}\r\n                <p>{i.createdAt? i.createdAt.toDate().toLocaleString():\"\"}</p>\r\n                <h3>{i.content}</h3>{i.update}</div>\r\n            })\r\n          }\r\n          </div>\r\n          : \"Aún no hay anuncios para esta iniciativa.\"\r\n      }</div> : \"\"}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Change\r\n","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\n\r\nfunction Comment({ user, id }) {\r\n\r\n let { commentId } = useParams();\r\n\r\n const { handleGetDoc, unSubscribeFromDoc, comment, setReplies } = useContext(InitiativeContext)\r\n\r\n const formEl = useRef();\r\n\r\n useEffect(() => {\r\n  handleGetDoc(commentId, \"comments\");\r\n  console.log(comment)\r\n  return () => {\r\n   unSubscribeFromDoc();\r\n  }\r\n\r\n }, [localStorage.getItem('user')])\r\n\r\n const handleNew = async (e) => {\r\n  setReplies(commentId, id, handleSubmit(e), comment.replies)\r\n  formEl.current.reset()\r\n }\r\n\r\n const handleSubmit = (event) => {\r\n  event.preventDefault();\r\n  const formInputs = [...formEl.current.elements].map(e => {\r\n   return { [e.name]: e.value }\r\n  }).filter((value) => Object.keys(value).length !== 0).filter((value) => Object.keys(value)[0] !== \"\");\r\n  const newSubmitted = formInputs.reduce((acc, input) => {\r\n   return {\r\n    ...acc, ...input, userId: user.uid, by: user.displayName, by_id: user.uid\r\n   };\r\n  }, 0);\r\n\r\n  var currentdate = new Date();\r\n\r\n  return { ...newSubmitted, createdAt: currentdate }\r\n\r\n };\r\n\r\n return (\r\n  <div className=\"initiative-sub-two\">\r\n   {comment ? <div className=\"initiative-sub-two\">\r\n\r\n    <div className=\"initiative-container\">\r\n\r\n     <div className=\"ZoomComentario\">\r\n      <h3>{comment.creator}</h3>\r\n      {comment.img ? <img src={comment.img} alt=\"\" /> : \"\"}\r\n      {comment.title}\r\n\r\n     </div>\r\n\r\n    </div>\r\n    <form className=\"comment-reply\" ref={formEl} onSubmit={(e) => handleNew(e)} id=\"confirmationForm\">\r\n\r\n     <input id=\"name-input\" name=\"content\" type=\"text\" placeholder=\"¿Qué piensas?\" />\r\n\r\n     <button type=\"submit\" onSubmit={(event) => handleNew(event)}></button>\r\n    </form>\r\n\r\n    {\r\n     comment.replies.sort((a, b) => { return b.createdAt - a.createdAt }).map((r, index) => { return <div key={index} className=\"container\"><h3>{r.creator}</h3><p>{r.createdAt.toDate().toLocaleString()}</p> <p>{r.content}</p></div> })\r\n    }\r\n   </div> : \"\"}\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Comment\r\n","import React, { useRef, useState, useContext } from 'react'\r\nimport { InitiativeContext } from \"./providers/InitiativeContext\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport { serverTimestampF } from \"./firebase\";\r\nfunction DiscussionModalCreate({ toggleModalCreate, id }) {\r\n\r\n  const [keywords, setKeywords] = useState([\"Seguridad\", \"Infraestructura\", \"Movilidad\", \"Educación\", \"Medio Ambiente\", \"Transparencia\"])\r\n\r\n  const [file, setFile] = useState();\r\n  const [sent, setSent] = useState();\r\n  const { handleNewDoc, uploadImage, progress } = useContext(InitiativeContext)\r\n\r\n  const { user, userInfo } = useContext(UserContext)\r\n\r\n  const formEl = useRef();\r\n\r\n  const handleNew = async (e) => {\r\n    console.log(handleSubmit(e));\r\n    const referencia = await handleNewDoc(\"changes\", handleSubmit(e));\r\n    console.log(\"referencia es:\", referencia);\r\n    setSent(true);\r\n    setTimeout(() => {\r\n      toggleModalCreate();\r\n    }, 5000);\r\n  }\r\n\r\n  const handleImages = async (e) => {\r\n    var imageUrl = \"\";\r\n    try {\r\n      imageUrl = await uploadImage(e.target.files[0], e.target.files[0].name);\r\n    } catch (error) {\r\n      console.log(\"Promise Image\", error)\r\n    }\r\n    setFile(imageUrl);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const formInputs = [...formEl.current.elements].map(e => {\r\n      return { [e.name]: e.value }\r\n    }).filter((value) => Object.keys(value).length !== 0).filter((value) => Object.keys(value)[0] !== \"\");\r\n\r\n    const newSubmitted = formInputs.reduce((acc, input) => {\r\n      return {\r\n        ...acc, ...input, userId: user.uid, initiative_id: id, creator: user.displayName\r\n      };\r\n    }, 0);\r\n\r\n    return { ...newSubmitted, createdAt: serverTimestampF(), img: file ? file : \"\" }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\" onClick={toggleModalCreate}>\r\n      <div className=\"modal-body\" onClick={(e) => e.stopPropagation()}>\r\n        <div onClick={toggleModalCreate}><strong>x</strong> </div>\r\n        {!sent ?\r\n          <div className=\"modal-form\">\r\n\r\n            <form ref={formEl} onSubmit={(e) => handleNew(e)} id=\"confirmationForm\">\r\n              <label htmlFor=\"name-input\"> Titulo del Proyecto</label>\r\n              <input id=\"name-input\" name=\"content\" type=\"text\" placeholder=\"Titulo de tu proyecto\" />\r\n              <label htmlFor=\"team-input\">Descripción</label>\r\n              <textarea name=\"update\" type=\"text\" cols=\"40\" rows=\"5\" />\r\n              <label>Añadir Imágenes</label>\r\n\r\n              <div className=\"modal-upload-images\" >\r\n\r\n                <div className=\"images\">\r\n\r\n                  <input type=\"file\" id=\"file\" name=\"img\" accept=\"image/*\" onChange={(e) => handleImages(e)} />\r\n\r\n                  <label htmlFor=\"file\">\r\n                    <progress id=\"file\" value={progress} max=\"100\" style={progress === 0 ? {} : { background: \"#FF8D97\" }} />{progress === 0 ? file ? \"reemplazar\" : <p>+</p> : <p>{progress + \"%\"}</p>}</label>\r\n                  {file\r\n                    ? <div className=\"image-added\">\r\n                      <p>Eliminar</p>\r\n                      <img src={file} alt=\"\" />\r\n                    </div>\r\n                    : \"\"}\r\n                </div>\r\n              </div>\r\n\r\n              <button type=\"submit\">Subir Anuncio</button>\r\n            </form>\r\n          </div> : \"Anuncio Enviado\"}\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default DiscussionModalCreate\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { InitiativeContext } from \"../providers/InitiativeContext\";\r\nimport { UserContext } from \"../providers/UserContext\";\r\nimport Summary from \"./Summary\";\r\nimport Change from \"./Change\";\r\nimport Discussion from \"./Discussion\";\r\nimport Comment from \"./Comment\";\r\nimport { useParams, Route, NavLink, useHistory } from \"react-router-dom\";\r\nimport DiscussionModalCreate from \"../DiscussionModalCreate\";\r\nimport { SettingsContext } from \"../providers/SettingsContext\";\r\n\r\nfunction Iniciative() {\r\n\r\n  const history = useHistory();\r\n\r\n  let { iniciativeId } = useParams();\r\n\r\n  const { modalCreate, toggleModalCreate } = useContext(SettingsContext)\r\n\r\n  const { handleGetDoc, initiative, unSubscribeFromDoc } = useContext(InitiativeContext)\r\n\r\n  const [location, setLocation] = useState(\"Resumen\")\r\n\r\n  const { user } = useContext(UserContext)\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('user') === \"null\" || !localStorage.getItem('user')) {\r\n      history.push(\"/login\");\r\n    }\r\n    handleGetDoc(iniciativeId, \"initiatives\");\r\n    return () => {\r\n      unSubscribeFromDoc();\r\n    }\r\n\r\n  }, [localStorage.getItem('user')])\r\n\r\n  return (\r\n\r\n    <div className=\"initiative\">\r\n\r\n      {initiative ?\r\n        <div className=\"initiative-parent\">\r\n          <div className=\"initiative-breadcrumbs-nav\">\r\n            <h5> {\"Iniciativas > Localidad \" + initiative.localidad_lugar + \" >   \" + initiative.lugar + \" > \" + initiative.name + \" > \" + location}</h5>\r\n            <div className=\"initiative-actions\">\r\n              <ul>\r\n                <li onClick={() => {\r\n                  setLocation(\"Resumen\");\r\n                  handleGetDoc(iniciativeId, \"initiatives\");\r\n                }}>\r\n                  <NavLink activeClassName='active' exact={true} to={`/iniciativas/${iniciativeId}/resumen`} className=\"initiative-action\">Resumen</NavLink>\r\n                </li>\r\n                <li onClick={() => { setLocation(\"Anuncios\"); handleGetDoc(iniciativeId, \"initiatives\"); }}>\r\n                  <NavLink activeClassName='active' exact={true} to={`/iniciativas/${iniciativeId}/anuncios`} className=\"initiative-action\">Anuncios</NavLink>\r\n                </li>\r\n                <li onClick={() => { setLocation(\"Discusión\"); handleGetDoc(iniciativeId, \"initiatives\"); }}>\r\n                  <NavLink activeClassName='active' strict to={`/iniciativas/${iniciativeId}/discusion`} className=\"initiative-action\">Discusión</NavLink></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <Route exact path={`/iniciativas/${iniciativeId}/resumen`} >\r\n            <Summary initiative={initiative} user={user} id={iniciativeId} />\r\n          </Route>\r\n\r\n          <Route exact path={`/iniciativas/${iniciativeId}/anuncios`} >\r\n            <Change initiative={initiative} user={user} id={iniciativeId} />\r\n\r\n            {user ? user.uid === initiative.userId ? modalCreate ? <DiscussionModalCreate toggleModalCreate={toggleModalCreate} id={iniciativeId} />\r\n              : <button className=\"button-add\" onClick={toggleModalCreate} >  + </button> : \"\" : \"\"}\r\n\r\n\r\n          </Route >\r\n          <Route exact path={`/iniciativas/${iniciativeId}/discusion`} >\r\n            <Discussion initiative={initiative} user={user} id={iniciativeId} />\r\n          </Route >\r\n          <Route exact path={`/iniciativas/${iniciativeId}/discusion/:commentId`} >\r\n            <Comment initiative={initiative} user={user} id={iniciativeId} />\r\n          </Route >\r\n        </div>\r\n        : <div className=\"modal loader\"><div id=\"loading\"></div></div>}\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Iniciative\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { UserContext } from \"./providers/UserContext\";\r\n\r\nimport Map from \"./Map\";\r\n\r\nimport { useParams } from \"react-router-dom\";\r\nfunction Users() {\r\n\r\n let { userId } = useParams();\r\n\r\n const { user, userInfo, getUserInfo } = useContext(UserContext)\r\n\r\n const [userRendered, setUserRendered] = useState()\r\n\r\n useEffect(async () => {\r\n\r\n  var u = await getUserInfo(userId);\r\n  setUserRendered(u);\r\n\r\n  return () => { setUserRendered() };\r\n\r\n }, [userId])\r\n\r\n return (\r\n  <div>\r\n   {userRendered ?\r\n\r\n    <div className=\"location-users\">\r\n     <div className=\"location-users-text\">\r\n      <h1>{userRendered.nombre}</h1>\r\n      <h2>{`${userId === user.uid ? \"Te interesan iniciativas sobre: \" : `Le interesan iniciativas sobre:`}` + userRendered.intereses.join(\", \")}</h2>\r\n      <div className=\"location-users-text\">\r\n      </div>\r\n      <br />\r\n      <h3>{`${userId === user.uid ? \"Tu localidad es la #\" : `Su localidad es la #`}` + userRendered.localidad_lugar}</h3>\r\n      <h3>{`${userRendered.tipo_lugar == 1 ? \"Barrio: \" : \"Corregimiento:\"}` + userRendered.lugar}</h3>\r\n     </div>\r\n     <div className=\"location-users-img\">\r\n      <Map localidad={userRendered.localidad_lugar} />\r\n     </div>\r\n    </div>\r\n    : \"\"}\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Users\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Route, useHistory } from \"react-router-dom\";\r\nimport Barranav from \"./Barranav\";\r\nimport Inititatives from './Initiatives';\r\nimport InitiativeModalCreate from \"./InitiativeModalCreate\";\r\nimport Filtros from \"./Filtros\";\r\nimport Inicio from \"./Inicio\";\r\nimport { SettingsContext } from \"./providers/SettingsContext\";\r\nimport { UserContext } from \"./providers/UserContext\";\r\nimport Iniciative from \"./Initiative/Iniciative\";\r\nimport Users from \"./Users\";\r\n\r\nfunction Main() {\r\n\r\n  const { modalCreate, toggleModalCreate } = useContext(SettingsContext)\r\n\r\n  const { user, userInfo } = useContext(UserContext);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n\r\n    if (localStorage.getItem('user') == \"null\" || !localStorage.getItem('user')) {\r\n      history.push(\"/login\")\r\n    }\r\n\r\n  }, [localStorage.getItem('user')])\r\n\r\n\r\n  return (\r\n    user ?\r\n      <div className=\"app\">\r\n        <Barranav />\r\n        <Route exact path=\"/\">\r\n          <Inicio />\r\n        </Route>\r\n        <Route exact path=\"/iniciativas\">\r\n          <Filtros />\r\n          <Inititatives />\r\n          {modalCreate ?\r\n            <InitiativeModalCreate toggleModalCreate={toggleModalCreate} />\r\n            : <button className=\"button-add\" onClick={toggleModalCreate}> + </button>}\r\n        </Route>\r\n        <Route path=\"/iniciativas/:iniciativeId\">\r\n          <Iniciative />\r\n        </Route>\r\n        <Route path=\"/usuario/:userId\">\r\n          <Users />\r\n        </Route>\r\n\r\n      </div>\r\n      : <div className=\"modal loader\"><div id=\"loading\"></div></div>)\r\n}\r\n\r\nexport default Main\r\n","import React from \"react\";\r\nimport './App.css';\r\nimport Login from \"./Login\";\r\nimport Main from \"./Main\";\r\n\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Main />\r\n        </Route>\r\n        <Route path=\"/iniciativas\">\r\n          <Main />\r\n        </Route>\r\n        <Route path=\"/usuario\">\r\n          <Main />\r\n        </Route>\r\n        <Route exact path=\"/login\">\r\n          <Login />\r\n        </Route>\r\n        <Route path=\"*\">\r\n          <h2>Error 404</h2>\r\n        </Route>\r\n      </Switch>\r\n    </BrowserRouter >\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport UserContext from \"./providers/UserContext\";\r\nimport InitiativeContext from \"./providers/InitiativeContext\";\r\nimport SettingsContext from \"./providers/SettingsContext\";\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserContext>\r\n      <InitiativeContext>\r\n        <SettingsContext>\r\n          <App />\r\n        </SettingsContext>\r\n      </InitiativeContext>\r\n    </UserContext >\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n"],"sourceRoot":""}